<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>写作01</title>
    <link href="/2023/12/16/%E6%89%98%E7%A6%8F%E5%86%99%E4%BD%9C01/"/>
    <url>/2023/12/16/%E6%89%98%E7%A6%8F%E5%86%99%E4%BD%9C01/</url>
    
    <content type="html"><![CDATA[<h1 id="托福写作"><a href="#托福写作" class="headerlink" title="托福写作"></a>托福写作</h1><span id="more"></span><h2 id="综合写作"><a href="#综合写作" class="headerlink" title="综合写作"></a>综合写作</h2><h2 id="听力文章如何反驳阅读文章反驳逻辑-直接反驳：-The-professor-casts-doubt-on-the-reading’s-saying-that…-While-the-reading-suggests-that…-the-professor-thinks-otherwise-让步-反驳-While-admitting-that…-the-professor-still-doubts-that-the-reading’s-conclusion-that…-The-fact-that…-does-not-necessarily-mean-that…-鸡同鸭讲-Whereas-the-reading-suggests-that-结论-because-角度-the-professor-analyses-this-issue-from-a-different-angle-Whereas-the-reading-highlights-how-this-alleviates-people’s-financial-stress-the-professor-is-more-concerned-with-how-this-will-harm-people’s-health反驳细节-全面-12345-Well-organized-e-g-unlike-1-which-3-and-5-2-basically-does-4-which-means-…"><a href="#听力文章如何反驳阅读文章反驳逻辑-直接反驳：-The-professor-casts-doubt-on-the-reading’s-saying-that…-While-the-reading-suggests-that…-the-professor-thinks-otherwise-让步-反驳-While-admitting-that…-the-professor-still-doubts-that-the-reading’s-conclusion-that…-The-fact-that…-does-not-necessarily-mean-that…-鸡同鸭讲-Whereas-the-reading-suggests-that-结论-because-角度-the-professor-analyses-this-issue-from-a-different-angle-Whereas-the-reading-highlights-how-this-alleviates-people’s-financial-stress-the-professor-is-more-concerned-with-how-this-will-harm-people’s-health反驳细节-全面-12345-Well-organized-e-g-unlike-1-which-3-and-5-2-basically-does-4-which-means-…" class="headerlink" title="听力文章如何反驳阅读文章反驳逻辑- 直接反驳：  - The professor casts doubt on the reading’s saying that…  - While the reading suggests that…, the professor thinks otherwise- 让步+反驳  - While admitting that…, the professor still doubts that the reading’s conclusion that…  - The fact that… does not necessarily mean that…- 鸡同鸭讲  - Whereas the reading suggests that 结论 because 角度, the professor analyses this issue from a different angle  - Whereas the reading highlights how this alleviates people’s financial stress, the professor is more concerned with how this will harm people’s health反驳细节- 全面 12345- Well-organized: e.g. unlike 1,which 3 and 5, 2 basically does 4, which means …"></a>听力文章如何反驳阅读文章<br>反驳逻辑<br>- 直接反驳：<br>  - The professor casts doubt on the reading’s saying that…<br>  - While the reading suggests that…, the professor thinks otherwise<br>- 让步+反驳<br>  - While admitting that…, the professor still doubts that the reading’s conclusion that…<br>  - The fact that… does not necessarily mean that…<br>- 鸡同鸭讲<br>  - Whereas the reading suggests that 结论 because 角度, the professor analyses this issue from a different angle<br>  - Whereas the reading highlights how this alleviates people’s financial stress, the professor is more concerned with how this will harm people’s health<br>反驳细节<br>- 全面 12345<br>- Well-organized: e.g. unlike 1,which 3 and 5, 2 basically does 4, which means …</h2><p>各大网站 TPO1-54<br>网盘分享 TPO55-75<br>评分标准</p><ul><li>语法正确性+用词基本准确</li><li>逻辑衔接流畅+准确</li></ul><h2 id="学术讨论"><a href="#学术讨论" class="headerlink" title="学术讨论"></a>学术讨论</h2><p>教授提出问题，学生讨论；认真阅读问题，写作更有针对性</p><ul><li>回应话题，给出+论证观点</li><li>Contribute to the discussion</li></ul><p>e.g.电视造成了什么影响？</p><ul><li>长胖</li><li>扩大视野</li><li>提供新信息(Contribution)</li></ul><p>请问快速发展的经济是好还是坏</p><ul><li>好</li><li>不好</li><li>抓住一个人去附和&#x2F;反驳(Contribution)</li></ul><p>话题种类</p><ul><li>封闭式话题80%&#x3D;观点+立论+驳论：是否A是好的&#x2F;A vs B哪个更好&#x2F;A vs B vs C哪个更好<ul><li>如何形成立论点？<br>e.g. 政府要不要financially支持艺术家？<ul><li><p>思考不同的群体(艺术家&#x2F;民众&#x2F;政府)<br>Obviously, the financial support from the government to artists is necessary for multiple reasons. For one, different from other occupations, artists sometimes cannot get immediate market recognition, and thus have to go about a long time without financial rewards. Therefore, it would be the best if they can receive stable financial support from other sources, such as the government. For another, with more artworks available, the general public can either get more entertainment or have more chance to spiritually resonate with some of the though-provoking art pieces, which are both beneficial for their lives. In addtion, with more government investment in art, the local art culture might become so attractive to tourists that tourism will boom in the locality, which undoubtedly contribute to the economic development in the long term.</p></li><li><p>exercise</p><ul><li>Available lands:green space&#x2F;industrial land<br>我认为应该把这块地用来修建绿地，对民众：提供休息娱乐的场所，提高生活质量；对政府：提高城市形象与居民满意度，吸引更多游客；对环境：减少污染，改善空气质量。相比于功能性建筑，绿地具有更多隐式和长期的价值。<br>analysis: 城市里面的大部分人学习工作压力很大-&gt;the most healthy way for them to naturally let go of the pressure is to increase time in nature, close to plants and wildlife-&gt;this is why parks can be indispensable for cities where people hectic lifestyles<br>When a city boasts a large patch of green, it might even become the city’s namecard, attracting numerous tourists and appealing to potential talent to work in the local area. e.g. NYC the central park<br>功能性(购物中心，工厂)<br>For the local inhabitants, it can largely facilitate their lives<br>For the government, constructing such functional buildings can directly contribute to the local GDP and improve employment.<br>Step1. 想点+合理展开<br>我们都知道自然，wildlife,绿色,清新空气这些东西都是associated with higher endorphin levels and therefore a reduced stess level-&gt;个体一旦在公园这个场景，可以放松压力<br>Secondly,green area在现在的很多城市中是稀缺，所以一旦有，就很独特，很容易stands out形成unique landscape-&gt;吸引游客，吸引人才(e.g.NYU the centural park)-&gt;政府促进经济发展</li><li>In families with more than one kid, should the older kid(8-12) be required to take care of younger siblings(3-7) when they are both(all) at home?<br>我认为应该，对有一个以上孩子的家庭，父母pressure较大，如果older kid can take care of younger siblings, 可以release parents’s pressure. Besides, 通过照顾younger siblings, older kid可以学习如何照顾他人，培养责任感，这些都是很重要的qualities. 但是，如果older kid不愿意照顾younger siblings, parents应该尊重他们的意愿，不应该强迫他们，因为这样会导致他们对younger siblings产生厌恶，这样会对他们的关系产生负面影响。<br>Should<br>For the older children, through the baby-sitting job, they get to hone essential life skills(e.g. cooking skills, verbal skills, communication skills)-&gt;go a long way in the future<br>Sense of responsibility<br>For the younger kids, they simply can have better fun than when playing on their own or with parents<br>Parents can shed off some weight from their shoulders<br>Should not<br>The older kids should be given the time to themselves to explore their personal interests and hobbies<br>The younger kids might suffer from danger(eg. Chinese date pit gum)<br>Can parents really have more rest and relaxation? No<br>Obviously, the older kids should take care of the younger ones when they are both at home. For one, through the baby-sitting job, the older kids get to hone essential life skills such as cooking skills, verbal skills and communication skills, which will go a long way in the future, they can also develop a sense of responsibility. For another, the younger kids can simply have better fun playing with their older siblings than when playing on their own or with parents.<br>Obviously, the older kids should take care of the younger ones when they are both at home. For one, through the baby-sitting job, the older kids get to hone essential life skills such as cooking skills, verbal skills and communication skills, which will go a long way in the future. They can also develop a sense of responsibility. For another, the younger kids can simply have better fun playing with their older siblings than when playing on their own or with parents.<br>句号+大写<br>没有展开 why verbal skills(tell stories)&#x2F;communication skills&#x2F;go on a long way?<br>例证有机穿插<br>Undoubtedly, the older siblings should help look after the younger children in the household, and the benefits can be multifaced. Through babysitting, older brothers&#x2F;sisters get to pick up essential life skills that can be instruc</li></ul><ol><li>没有语法错误</li></ol></li></ul></li></ul></li><li>开放式话题20%</li></ul><p>10min，不少于100词，130-160词</p>]]></content>
    
    
    <categories>
      
      <category>托福</category>
      
    </categories>
    
    
    <tags>
      
      <tag>托福</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Relightable Gaussian Codec Avatars</title>
    <link href="/2023/12/11/RGCA/"/>
    <url>/2023/12/11/RGCA/</url>
    
    <content type="html"><![CDATA[<h1 id="Relightable-Gaussian-Codec-Avatars"><a href="#Relightable-Gaussian-Codec-Avatars" class="headerlink" title="Relightable Gaussian Codec Avatars"></a>Relightable Gaussian Codec Avatars</h1><span id="more"></span><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><h3 id="Task"><a href="#Task" class="headerlink" title="Task"></a>Task</h3><p>build high-fidelity relightable avatars that can be animated to generate novel expressions</p><h3 id="Technical-challenge-for-previous-work"><a href="#Technical-challenge-for-previous-work" class="headerlink" title="Technical challenge for previous work"></a>Technical challenge for previous work</h3><ul><li>for geometry, both mesh and volumetric approaches have difficulty modeling intricate structures like 3D hair geometry</li><li>for apperance, existing relighting models are limited in fidelity and often too slow to render in real-time with high-resolution continuous environments</li></ul><h3 id="Insight-Motivation"><a href="#Insight-Motivation" class="headerlink" title="Insight&#x2F;Motivation"></a>Insight&#x2F;Motivation</h3><p>model based on 3D Gaussians can capture 3D-consistent sub-millimeter details</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><h3 id="Task-and-application"><a href="#Task-and-application" class="headerlink" title="Task and application"></a>Task and application</h3><ul><li>avatar relighting</li><li>games and telecommunication</li></ul><h3 id="Technical-challenge-for-previous-work-1"><a href="#Technical-challenge-for-previous-work-1" class="headerlink" title="Technical challenge for previous work"></a>Technical challenge for previous work</h3><h3 id="Our-pipeline"><a href="#Our-pipeline" class="headerlink" title="Our pipeline"></a>Our pipeline</h3><h2 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h2><h3 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h3><h4 id="Frequency-and-filter"><a href="#Frequency-and-filter" class="headerlink" title="Frequency and filter"></a>Frequency and filter</h4><h4 id="Spherical-harmonics"><a href="#Spherical-harmonics" class="headerlink" title="Spherical harmonics"></a>Spherical harmonics</h4><ul><li><p>A set of 2D basis functions $B_i(\omega)$ defined on the unit sphere $\Omega$</p></li><li><p>Analogous to Fourier series in 1D</p><div align=center>  <img src="/img/research/sh.png" width=80% height=80% alt="Spherical harmonics" align=center />  <p><em>Figure 1: Spherical harmonics</em></p></div></li><li><p>Each SH basis function $B_i(\omega)$ is associated with a Legendre polynomial </p></li><li><p>Projection: obtaining the coefficients of each SH basis function<br>$$\begin{aligned}<br>c_i &amp;&#x3D; \int_{\Omega}f(\omega)B_i(\omega)d\omega \<br>\end{aligned}$$<br>e.g.$f(\omega)$&#x3D;2D-Environment map</p></li><li><p>Reconstruction: reconstructing the function from the <strong>truncated</strong> coefficients(能表达的频率取决于最高阶的SH basis function)</p></li></ul><h4 id="Perfiltering"><a href="#Perfiltering" class="headerlink" title="Perfiltering"></a>Perfiltering</h4><ul><li><p>Prefiltering + single query &#x3D; no filtering + multiple queries</p><div align=center>  <img src="/img/research/prefilter.png" width=80% height=80% alt="Perfiltering" align=center />  <p><em>Figure 2: Perfiltering</em></p></div></li><li><p>Diffuse BRDF acts like a low-pass filter<br>对于diffuse的物体，只需要前三阶的SH basis function就能表达，即使更高频的环境光在diffuse物体上也会被滤掉；<br>因此可以根据物体的BRDF来选择表达light的SH阶数，从而减少计算量</p></li></ul><h4 id="Precomputed-radiance-transfer"><a href="#Precomputed-radiance-transfer" class="headerlink" title="Precomputed radiance transfer"></a>Precomputed radiance transfer</h4><p>$$ \begin{aligned}<br>L(o) &#x3D; \int_{\Omega}L(i)V(i)\rho(i)max(0,n\cdot i)di \<br>\end{aligned}$$<br>where $o$ is the viewing direction, $i$ is the incoming light direction, $V(i)$ is the visibility function, $\rho(i)max(0,n\cdot i)$ is the BRDF, and $n$ is the surface normal.<br>$L(i)$: lighting<br>$V(i)\rho(i)max(0,n\cdot i)$: light transport</p><ul><li>Approximate lighting using SH basis functions:$L(i)&#x3D;\sum l_iB_i(i)$</li><li>Precompute stage<ul><li>compute light transport</li><li>project light transport to basis function space</li></ul></li><li>Runtime stage<ul><li>dot product(diffuse) or matrix-vector multiplication(glossy)<br>Diffuse Case<br>$$ \begin{aligned}<br>L(o) &amp;&#x3D; \int_{\Omega}L(i)V(i)\rho(i)max(0,n\cdot i)di \newline<br>&amp;&#x3D; \rho\int_{\Omega}L(i)V(i)max(0,n\cdot i)di \newline<br>&amp;\approx \rho\sum_{i&#x3D;0}^{N}l_i\int_{\Omega}B_i(i)V(i)max(0,n\cdot i)di \newline<br>&amp;\approx \rho\sum_{i&#x3D;0}^{N}l_iT_i<br>\end{aligned}$$<br>预计算<br>$$\begin{aligned}<br>&amp;L(i)&#x3D;\sum_{i&#x3D;0}^{N}l_iB_i(i) \newline<br>&amp;\int_{\Omega}B_i(i)V(i)max(0,n\cdot i)di &#x3D; T_i<br>\end{aligned}$$</li></ul></li></ul><p>PRT properties:</p><ul><li>只能渲染静态场景(场景发生变化$V(i)$等项都需要重新计算)</li><li>支持光照旋转(SH具有易旋转的特性，可以将旋转light-&gt;旋转SH基函数)</li></ul><h3 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h3><h3 id="Pipeline-module-1"><a href="#Pipeline-module-1" class="headerlink" title="Pipeline module 1"></a>Pipeline module 1</h3><h3 id="Apperance-Learned-Radiance-Transfer"><a href="#Apperance-Learned-Radiance-Transfer" class="headerlink" title="Apperance: Learned Radiance Transfer"></a>Apperance: Learned Radiance Transfer</h3><p>$c_k&#x3D;c_k^{diffuse}+c_k^{specular}(\omega_o)$<br>where $\omega_o$ is the viewing direction</p><h4 id="Diffuse-Color"><a href="#Diffuse-Color" class="headerlink" title="Diffuse Color"></a>Diffuse Color</h4><p>$$\begin{aligned}<br>c_k^{diffuse} &amp;&#x3D; \rho_k\odot\int_{S^2}L(\omega_i)\odot d_k^i(\omega_i)d\omega_i \newline<br>&amp;&#x3D; \rho_k \odot \sum_{i&#x3D;1}^{(n+1)^2}L_i\odot d_k^i<br>\end{aligned}$$<br>$L&#x3D;\lbrace L_i \rbrace _{i&#x3D;1}^{(n+1)^2}$: the n-th order SH coefficients<br>$d_k&#x3D;\lbrace d_k^i \rbrace _{i&#x3D;1}^{(n+1)^2}$: the intrinsic radiance transfer function with $d_k^i \in \mathbb{R}^3$<br>$\rho_k \in \mathbb{R}^3$: a learnable albedo for each 3D Gaussian</p><h4 id="Specular-Reflection"><a href="#Specular-Reflection" class="headerlink" title="Specular Reflection"></a>Specular Reflection</h4><p>for the view-dependent specular term, propose a normalized,angle-based spherical Gaussian<br>$$\begin{aligned}<br>G_s(p;q,\sigma) &#x3D; Ce^{-\frac{1}{2}(\frac{arccos(p\cdot q)}{\sigma})^2}<br>\end{aligned}$$<br>$q\in S^2$: the lobe axis<br>$p\in S^2$: the direction of evaluation<br>$C &#x3D; 1&#x2F;(\sqrt{2}\pi^{2&#x2F;3}\sigma)$: a normalization constant<br>$$\begin{aligned}<br>q_k&#x3D;2(\omega_k^o\cdot n_k)n_k-\omega_k^o<br>\end{aligned}$$<br>final color for the specular term of each 3D Gaussian<br>$$\begin{aligned}<br>c_k^{specular}(\omega_o) &#x3D; v_k(\omega_o)\int_{S^2}L(\omega_i)G_s(\omega_i;q_k,\sigma_k)d\omega_i<br>\end{aligned}$$<br>$v_k(\omega_o) \in (0,1)$: a learnable view-dependent visibility term </p><h4 id="Decoder"><a href="#Decoder" class="headerlink" title="Decoder"></a>Decoder</h4><p>decode radiance transfer parameters using a view-independent decoder $D_{ci}$ and a view-dependent decoder $D_{cv}$</p><p>$$\begin{align}<br>\lbrace d_k^c,d_k^m, \sigma_k \rbrace_{k&#x3D;1}^{M} &#x3D; D_{ci}(z,e_{\lbrace l,r\rbrace}; \Theta _{ci}) \newline<br>\end{align}$$</p><p>$$\begin{align}<br>\lbrace \delta n_k, v_k \rbrace_{k&#x3D;1}^{M} &#x3D; D_{cv}(z,e_{\lbrace l,r\rbrace},\omega_o; \Theta _{cv})<br>\end{align}$$</p><h3 id="Modification"><a href="#Modification" class="headerlink" title="Modification"></a>Modification</h3><h4 id="Decoder-1"><a href="#Decoder-1" class="headerlink" title="Decoder"></a>Decoder</h4><p>$$\begin{align}<br>\lbrace d_k^c,d_k^m, \sigma_k \rbrace_{k&#x3D;1}^{M} &#x3D; D_{ci}(\Theta _{ci}) \newline<br>\end{align}$$</p><p>$$\begin{align}<br>\lbrace \delta n_k, v_k \rbrace_{k&#x3D;1}^{M} &#x3D; D_{cv}(\omega_o; \Theta _{cv})<br>\end{align}$$</p><p>$\omega_o$: the viewing direction<br>$\Theta _{ci}$: the parameters of the view-independent decoder<br>$\Theta _{cv}$: the parameters of the view-dependent decoder</p><h2 id="Experiments"><a href="#Experiments" class="headerlink" title="Experiments"></a>Experiments</h2><h3 id="Comparison-experiments"><a href="#Comparison-experiments" class="headerlink" title="Comparison experiments"></a>Comparison experiments</h3><h3 id="Ablation-studies"><a href="#Ablation-studies" class="headerlink" title="Ablation studies"></a>Ablation studies</h3><h2 id="Limitations"><a href="#Limitations" class="headerlink" title="Limitations"></a>Limitations</h2>]]></content>
    
    
    <categories>
      
      <category>周记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>论文笔记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>真爱至上</title>
    <link href="/2023/12/10/%E7%9C%9F%E7%88%B1%E8%87%B3%E4%B8%8A/"/>
    <url>/2023/12/10/%E7%9C%9F%E7%88%B1%E8%87%B3%E4%B8%8A/</url>
    
    <content type="html"><![CDATA[<h1 id="2023Fall-Week12"><a href="#2023Fall-Week12" class="headerlink" title="2023Fall-Week12"></a>2023Fall-Week12</h1><span id="more"></span><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="学业"><a href="#学业" class="headerlink" title="学业"></a>学业</h3><h4 id="Done"><a href="#Done" class="headerlink" title="Done"></a>Done</h4><ul><li>《自主研究探索》第二次Pre文案+PPT</li><li>《影视艺术概论与作品赏析》第二次影评作业</li></ul><h4 id="To-Do"><a href="#To-Do" class="headerlink" title="To Do"></a>To Do</h4><ul><li>《控制工程基础》week13</li><li>《数值分析》多项式插值编程作业+线性方程组迭代法编程题</li><li>《美术英语》Pre文案+PPT</li><li>《自主研究探索》Pre</li><li>《教育与就业》模拟面试准备</li><li>《传热学》实验报告</li></ul><h3 id="科研"><a href="#科研" class="headerlink" title="科研"></a>科研</h3><h4 id="Done-1"><a href="#Done-1" class="headerlink" title="Done"></a>Done</h4><ul><li>Blender模拟OLAT环境合成多视角多光照数据集</li><li>加入naive的mlp预计算3d-gs的color</li><li>明确我们的“故事”：一般物体重光照+建模light transport</li></ul><h4 id="To-Do-1"><a href="#To-Do-1" class="headerlink" title="To Do"></a>To Do</h4><ul><li>理解掌握Relightable Gaussian Codec Avatars的Appearance:Learned Radiance Transfer部分</li><li>复现Relightable Gaussian Codec Avatars，搭建pipeline</li></ul><h3 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h3><h4 id="Done-2"><a href="#Done-2" class="headerlink" title="Done"></a>Done</h4><ul><li>发掘食堂海南鸡饭：主食+肉+菜+汤，15元&#x2F;份，好吃营养又实惠<br><img src="/img/week/2023Fall-Week12/%E6%B5%B7%E5%8D%97%E9%B8%A1%E9%A5%AD.jpg" alt="海南鸡饭"></li><li>电影课回顾饥饿游戏<br><img src="/img/week/2023Fall-Week12/%E7%94%B5%E5%BD%B1%E8%AF%BE%E5%9B%9E%E9%A1%BE%E9%A5%A5%E9%A5%BF%E6%B8%B8%E6%88%8F.jpg" alt="饥饿游戏"></li><li>2023Fall乒乓联赛，第二次带队学弟学妹拿了院系第三名，比上次小组没出线有了挺大进步<br><img src="/img/week/2023Fall-Week12/pingpang1.jpg" alt="乒乓联赛"><br><img src="/img/week/2023Fall-Week12/pingpang2.jpg" alt="乒乓联赛"></li><li>2023北京初雪<br><img src="/img/week/2023Fall-Week12/2023%E5%88%9D%E9%9B%AA01.jpg" alt="初雪"><br><img src="/img/week/2023Fall-Week12/2023%E5%88%9D%E9%9B%AA02.jpg" alt="初雪"><br><img src="/img/week/2023Fall-Week12/2023%E5%88%9D%E9%9B%AA03.jpg" alt="初雪"></li></ul><h2 id="真爱至上"><a href="#真爱至上" class="headerlink" title="真爱至上"></a>真爱至上</h2><p><img src="/img/week/2023Fall-Week12/teaser.png" alt="teaser"><br><img src="/img/week/2023Fall-Week12/%E5%89%A7%E7%85%A701.png" alt="剧照"><br><img src="/img/week/2023Fall-Week12/%E5%89%A7%E7%85%A702.png" alt="剧照"><br><img src="/img/week/2023Fall-Week12/%E5%89%A7%E7%85%A703.png" alt="剧照"><br>“这是我一天当中最欢喜的时候，载着你。”<br>“这是我一天当中最痛苦的时候，离开你。”</p>]]></content>
    
    
    <categories>
      
      <category>周记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>周记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>阅读01</title>
    <link href="/2023/12/09/%E6%89%98%E7%A6%8F%E9%98%85%E8%AF%BB01/"/>
    <url>/2023/12/09/%E6%89%98%E7%A6%8F%E9%98%85%E8%AF%BB01/</url>
    
    <content type="html"><![CDATA[<h1 id="托福题型"><a href="#托福题型" class="headerlink" title="托福题型"></a>托福题型</h1><ul><li>阅读：2篇文章，每篇文章10道题，35min</li><li>听力：3段讲座，每段讲座6道题，2段对话，每段对话5道题，36min</li><li>口语：4道题，1独立口语，3综合口语，16min</li><li>写作：1学术讨论，1综合写作，29min</li></ul>]]></content>
    
    
    <categories>
      
      <category>托福</category>
      
    </categories>
    
    
    <tags>
      
      <tag>托福</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TPO4-听力</title>
    <link href="/2023/12/07/TPO4-%E5%90%AC%E5%8A%9B/"/>
    <url>/2023/12/07/TPO4-%E5%90%AC%E5%8A%9B/</url>
    
    <content type="html"><![CDATA[<h1 id="TPO1"><a href="#TPO1" class="headerlink" title="TPO1"></a>TPO1</h1><span id="more"></span><h2 id="T1C1"><a href="#T1C1" class="headerlink" title="T1C1"></a>T1C1</h2><h3 id="准确率"><a href="#准确率" class="headerlink" title="准确率"></a>准确率</h3><p>4&#x2F;5</p><h3 id="精听积累"><a href="#精听积累" class="headerlink" title="精听积累"></a>精听积累</h3><p>The critiques really tore the play to pieces when it opened. 当这部戏开演时，评论家们把它批得体无完肤。<br>critique 批评；评论<br>controversial 有争议的<br>fuss 大惊小怪；小题大做<br>premiere 首次公演<br>basement 地下室</p><h2 id="T1C2"><a href="#T1C2" class="headerlink" title="T1C2"></a>T1C2</h2><h3 id="准确率-1"><a href="#准确率-1" class="headerlink" title="准确率"></a>准确率</h3><p>4&#x2F;5</p><h3 id="精听积累-1"><a href="#精听积累-1" class="headerlink" title="精听积累"></a>精听积累</h3><p>due next week 下周到期<br>supreme 最高的；至上的<br>property 财产；房地产<br>property rights 财产权<br>municipal 城市的,市政的<br>dispute 争论；争端<br>sit back 放松；不努力去做某事<br>They are just sitting back, not really doing their fair share of the work and waiting for an A.<br>file v. 提出（申请、诉讼等）；归档<br>They’ve been filing the weekly progress reports with me.<br>goof off 闲逛；偷懒<br>go down the drain 前功尽弃</p>]]></content>
    
    
    <categories>
      
      <category>英语</category>
      
    </categories>
    
    
    <tags>
      
      <tag>托福</tag>
      
      <tag>听力</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TPO3-听力</title>
    <link href="/2023/12/06/TPO3-%E5%90%AC%E5%8A%9B/"/>
    <url>/2023/12/06/TPO3-%E5%90%AC%E5%8A%9B/</url>
    
    <content type="html"><![CDATA[<h1 id="TPO1"><a href="#TPO1" class="headerlink" title="TPO1"></a>TPO1</h1><span id="more"></span><h2 id="T1C1"><a href="#T1C1" class="headerlink" title="T1C1"></a>T1C1</h2><h3 id="准确率"><a href="#准确率" class="headerlink" title="准确率"></a>准确率</h3><p>4&#x2F;5</p><h3 id="精听积累"><a href="#精听积累" class="headerlink" title="精听积累"></a>精听积累</h3><p>receptionist 接待员<br>bulletin 公告；简报<br>bulletin board 公告栏<br>They’ll be able to tell you if they’re planning to go through with it. 他们会告诉你他们是否打算继续下去</p><h2 id="T1C2"><a href="#T1C2" class="headerlink" title="T1C2"></a>T1C2</h2><h3 id="准确率-1"><a href="#准确率-1" class="headerlink" title="准确率"></a>准确率</h3><p>4&#x2F;5</p><h3 id="精听积累-1"><a href="#精听积累-1" class="headerlink" title="精听积累"></a>精听积累</h3><p>introductory 引导的；入门的，初步的<br>barn 谷仓<br>erect 建立；竖立<br>excavate 挖掘<br>artifact 手工艺品<br>clay 粘土<br>pottery 陶器<br>incentive 刺激；鼓励<br>on site 在现场：在工作现场或产品或服务的客户所在地</p><h3 id="精听积累-2"><a href="#精听积累-2" class="headerlink" title="精听积累"></a>精听积累</h3>]]></content>
    
    
    <categories>
      
      <category>英语</category>
      
    </categories>
    
    
    <tags>
      
      <tag>托福</tag>
      
      <tag>听力</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TPO2-听力</title>
    <link href="/2023/12/04/TPO2-%E5%90%AC%E5%8A%9B/"/>
    <url>/2023/12/04/TPO2-%E5%90%AC%E5%8A%9B/</url>
    
    <content type="html"><![CDATA[<h1 id="TPO1"><a href="#TPO1" class="headerlink" title="TPO1"></a>TPO1</h1><span id="more"></span><h2 id="T1C1"><a href="#T1C1" class="headerlink" title="T1C1"></a>T1C1</h2><h3 id="准确率"><a href="#准确率" class="headerlink" title="准确率"></a>准确率</h3><p>4&#x2F;5</p><h3 id="精听积累"><a href="#精听积累" class="headerlink" title="精听积累"></a>精听积累</h3><p>write up 写出，写完：指完成某事的写作<br>e.g. I have some quick questions about how to write up the research project I did this semester—about climate variations.<br>how far along have you gotten 你进行到哪个阶段了：用于询问某人在某项任务或活动中的进展情况<br>rule of thumb 经验法则，经验准则<br>meteorological 气象的<br>jot 草草记下，匆匆记下<br>e.g. jot down a few notes<br>come up with 提出，想出：找到主意、解决方案、答案等<br>look over （粗略地）检查，审查</p><h2 id="T1C2"><a href="#T1C2" class="headerlink" title="T1C2"></a>T1C2</h2><h3 id="准确率-1"><a href="#准确率-1" class="headerlink" title="准确率"></a>准确率</h3><p>4&#x2F;5</p><h3 id="精听积累-1"><a href="#精听积累-1" class="headerlink" title="精听积累"></a>精听积累</h3><p>contemporary 当代的，现代的<br>That’s a heavy schedule. 日程安排得很紧<br>seminar 研讨会<br>revise 修改，修订; 复习; 改变，修改（意见，计划等）<br>move it up 把它提前<br>definitely 肯定地，确实地</p>]]></content>
    
    
    <categories>
      
      <category>英语</category>
      
    </categories>
    
    
    <tags>
      
      <tag>托福</tag>
      
      <tag>听力</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>死神来了2</title>
    <link href="/2023/12/04/%E6%AD%BB%E7%A5%9E%E6%9D%A5%E4%BA%862/"/>
    <url>/2023/12/04/%E6%AD%BB%E7%A5%9E%E6%9D%A5%E4%BA%862/</url>
    
    <content type="html"><![CDATA[<h1 id="2023Fall-Week"><a href="#2023Fall-Week" class="headerlink" title="2023Fall-Week"></a>2023Fall-Week</h1><span id="more"></span><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="学业"><a href="#学业" class="headerlink" title="学业"></a>学业</h3><h4 id="Done"><a href="#Done" class="headerlink" title="Done"></a>Done</h4><p>nothing special</p><h3 id="科研"><a href="#科研" class="headerlink" title="科研"></a>科研</h3><h4 id="Done-1"><a href="#Done-1" class="headerlink" title="Done"></a>Done</h4><ul><li>提交补充材料</li><li>周日SSRT中期答辩，发现自己是三个项目中比较偏科研的了。会上还请了孙家广院士发言，但似乎有点过于看重经济收益轻视科研产出了，在思想上取其精华，去其糟粕吧</li><li>使用blender生成方向光多视角多光照数据集</li></ul><h4 id="To-Do"><a href="#To-Do" class="headerlink" title="To Do"></a>To Do</h4><ul><li>使用MLP代替球谐函数预计算RGB</li></ul><h3 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h3><p><img src="/img/week/2023Fall-Week11/%E4%BA%A4%E5%AE%8C%E8%A1%A5%E5%85%85%E6%9D%90%E6%96%99%E5%92%8C%E5%AD%A6%E9%95%BF%E8%81%9A%E9%A4%90.jpg" alt="交完补充材料和学长聚餐"><br><img src="/img/week/2023Fall-Week11/%E5%A4%A7%E4%BD%BF%E9%A6%86%E6%8E%92%E9%98%9F.jpg" alt="大使馆排队"><br><img src="/img/week/2023Fall-Week11/%E7%BE%8E%E7%AD%BE%E8%A2%AB%E6%8B%92.jpg" alt="美签被拒"><br>属实是有点没想到<br><img src="/img/week/2023Fall-Week11/%E5%8F%B0%E7%90%83%E5%88%9D%E4%BD%93%E9%AA%8C.jpg" alt="台球初体验"><br>和同学去打台球，非常感谢所长专业的指导，比想象中的有趣和好上手，之后如果不忙的话应该每周会去打一两次</p><h2 id="死神来了2"><a href="#死神来了2" class="headerlink" title="死神来了2"></a>死神来了2</h2><p><img src="/img/week/2023Fall-Week11/teaser.png" alt="死神来了2"><br>核心逻辑和第一部类似，空难变成了车祸，同时增加了new life的设定<br>两个人一起看电影还是交流聊天&gt;&gt;电影本身</p>]]></content>
    
    
    <categories>
      
      <category>周记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>周记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>爱在午夜降临前</title>
    <link href="/2023/12/03/%E7%88%B1%E5%9C%A8%E5%8D%88%E5%A4%9C%E9%99%8D%E4%B8%B4%E5%89%8D/"/>
    <url>/2023/12/03/%E7%88%B1%E5%9C%A8%E5%8D%88%E5%A4%9C%E9%99%8D%E4%B8%B4%E5%89%8D/</url>
    
    <content type="html"><![CDATA[<h1 id="2023Fall-Week10"><a href="#2023Fall-Week10" class="headerlink" title="2023Fall-Week10"></a>2023Fall-Week10</h1><span id="more"></span><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="学业"><a href="#学业" class="headerlink" title="学业"></a>学业</h3><p>考完试第一周作业比较少，因为周末有行程，就在前几天把作业赶完了。</p><h3 id="科研"><a href="#科研" class="headerlink" title="科研"></a>科研</h3><h4 id="Done"><a href="#Done" class="headerlink" title="Done"></a>Done</h4><p>MeshBasedAvatar补充材料：</p><ul><li>校准四个相机的内外参，拍摄并处理数据（纯纯体力活，但还好是最后一周，如果一直这样人真的麻了）</li><li>跑nha和point-avatar的retarget结果，用一个nersemble驱动另一个nersemble的结果<br>3d-gs讨论：</li><li>使用blender合成了点光源多视角单光照的数据</li><li>调研OpenIllumination数据集</li><li>OPPO回复：环境光渲染速度较慢，不能实时</li><li>学习AI葵大（youtube皮套人）对于3d-gs投射渲染部分的讲解，理解了3d-gs的pipeline</li></ul><h4 id="To-Do"><a href="#To-Do" class="headerlink" title="To Do"></a>To Do</h4><ul><li>用blender生成方向光多视角多光照的数据</li><li>使用mlp代替球谐函数提前计算gaussian颜色（非延时渲染）</li><li>选择NRHints作为我们的baseline进行比较，配置环境并跑通代码</li></ul><h3 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h3><h4 id="Done-1"><a href="#Done-1" class="headerlink" title="Done"></a>Done</h4><p>人生中永远会怀念的一个周末，20岁，一次北京-&gt;上海说走就走的旅程，体验了酒吧微醺后的美妙，临近分别时的伤感，我想我可能爱而非仅仅喜欢上了一个女孩，至少那几个小时，那几天，那一周，的确是这样的。<br><img src="/img/week/2023Fall-Week10/%E9%A3%9E%E6%9C%BA%E4%B8%8A%E6%B4%92%E4%B8%8B%E5%A4%95%E9%98%B3%E7%9A%84%E5%85%89%E8%BE%89.jpg" alt="飞机上洒下夕阳的光辉"><br><img src="/img/week/2023Fall-Week10/%E6%B8%85%E5%90%A7.jpg" alt="清吧"><br><img src="/img/week/2023Fall-Week10/livehouse.jpg" alt="livehouse"><br><img src="/img/week/2023Fall-Week10/%E6%83%8A%E5%96%9C%E5%8F%91%E7%8E%B0.jpg" alt="惊喜发现"><br>赶飞机的清晨，当在酒店收拾好其余东西，准备去床的另一边拿充电器时，意外地发现了“繁花落尽，终有归期”这几个字，霎时间有一种陌生的青春的悸动，上一次有这种感觉还是在高中翻阅绿色的地理会考册子时偶然发现《爱的魔法》歌词的时候。同样的女孩，同样的铅笔笔迹，不同的状态，不同的时间节点。结局怎样，还是得交给时间，但我更想做出人为的努力，让多年后回想不至于多么后悔与遗憾。</p><h2 id="爱在午夜降临前"><a href="#爱在午夜降临前" class="headerlink" title="爱在午夜降临前"></a>爱在午夜降临前</h2><p><img src="/img/week/2023Fall-Week10/teaser.png" alt="爱在午夜降临前"><br><img src="/img/week/2023Fall-Week10/%E5%AF%B9%E8%AF%9D.png" alt="爱在午夜降临前"><br>“我虽努力，却难于去亲近自己心爱的人”经历了平淡、争吵、否定、相濡以沫所有最真实的感情状态，18年过后，最难的是仍对彼此保有激情”<br>“我想我不再爱你，但我仍将爱你”</p>]]></content>
    
    
    <categories>
      
      <category>周记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>周记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>爱在日落黄昏时</title>
    <link href="/2023/12/03/%E7%88%B1%E5%9C%A8%E6%97%A5%E8%90%BD%E9%BB%84%E6%98%8F%E6%97%B6/"/>
    <url>/2023/12/03/%E7%88%B1%E5%9C%A8%E6%97%A5%E8%90%BD%E9%BB%84%E6%98%8F%E6%97%B6/</url>
    
    <content type="html"><![CDATA[<h1 id="2023Fall-Week9"><a href="#2023Fall-Week9" class="headerlink" title="2023Fall-Week9"></a>2023Fall-Week9</h1><span id="more"></span><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="学业"><a href="#学业" class="headerlink" title="学业"></a>学业</h3><ul><li>《美术英语》期中听写，背四个单元单词听写20个，比较水</li><li>《数值分析》（殷东生老师）期中考试，难度适中，占总评30%；找到了比较久远的往年题，条件数和牛顿迭代是原题；如果有今年往年题基本薄纱了</li></ul><h3 id="科研"><a href="#科研" class="headerlink" title="科研"></a>科研</h3><h4 id="Done"><a href="#Done" class="headerlink" title="Done"></a>Done</h4><ul><li>拍摄&#x2F;处理数据（后期纯体力活）</li><li>周六下午四点完成投稿！明鑫学长投稿前熬了一夜，徐老师和精望学长在最后时刻一直在帮忙修改。结果不算完美，但顺利投稿已经值得庆祝了，“Done is better than perfect”。人生第一次参与论文从提出idea到做实验再到投稿的全过程，希望将来能从中汲取经验教训，也能铭记自己做科研得初心和这份难忘的经历。</li></ul><h3 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h3><h4 id="Done-1"><a href="#Done-1" class="headerlink" title="Done"></a>Done</h4><p><img src="/img/week/2023Fall-Week9/%E6%8A%95%E7%A8%BF%E5%89%8D%E4%B8%80%E6%99%9A.jpg" alt="投稿前一晚"><br><img src="/img/week/2023Fall-Week9/%E6%8A%95%E7%A8%BF%E4%B9%8B%E5%90%8E%E7%9A%84%E5%AE%9E%E9%AA%8C%E5%AE%A4.jpg" alt="投稿之后的实验室"><br><img src="/img/week/2023Fall-Week9/%E6%9C%9F%E4%B8%AD%E8%80%83%E8%AF%95%E7%BB%93%E6%9D%9F.jpg" alt="期中考试结束"><br><img src="/img/week/2023Fall-Week9/faker.jpg" alt="Faker夺冠!"><br>十年前开始玩lol，十年后faker还在夺冠。纯粹，执着，值得学习。</p><h2 id="爱在日落黄昏时"><a href="#爱在日落黄昏时" class="headerlink" title="爱在日落黄昏时"></a>爱在日落黄昏时</h2><p><img src="/img/week/2023Fall-Week9/teaser.png" alt="爱在日落黄昏时"><br><img src="/img/week/2023Fall-Week9/%E8%88%B9.png" alt="爱在日落黄昏时"><br>“他为她写了本书，她为他写了首歌。其实，他们都记得，每个细节。”<br>“从某种意义上来说，我所有的浪漫 都在一夜之间消耗光了…”</p>]]></content>
    
    
    <categories>
      
      <category>周记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>周记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>托福口语01</title>
    <link href="/2023/12/02/%E6%89%98%E7%A6%8F%E5%8F%A3%E8%AF%AD01/"/>
    <url>/2023/12/02/%E6%89%98%E7%A6%8F%E5%8F%A3%E8%AF%AD01/</url>
    
    <content type="html"><![CDATA[<h1 id="托福口语"><a href="#托福口语" class="headerlink" title="托福口语"></a>托福口语</h1><span id="more"></span><h2 id="Task2"><a href="#Task2" class="headerlink" title="Task2"></a>Task2</h2><h3 id="阅读部分两种文章类型"><a href="#阅读部分两种文章类型" class="headerlink" title="阅读部分两种文章类型"></a>阅读部分两种文章类型</h3><ul><li>Announcement: 某学校的公告<ul><li>xxx university annouces&#x2F;plans</li></ul></li><li>Proposal: 学生关于校园生活的建议<ul><li>I think …</li></ul></li></ul><h3 id="阅读部分的任务"><a href="#阅读部分的任务" class="headerlink" title="阅读部分的任务"></a>阅读部分的任务</h3><ul><li>至少：找到并记录中心句关键词（题目出现中心句的概率很高）</li><li>最好：中心句+2两个点都搞定</li></ul><h3 id="听力材料"><a href="#听力材料" class="headerlink" title="听力材料"></a>听力材料</h3><ul><li>一男一女</li><li>一主一辅：看谁先给出态度&#x2F;反驳</li></ul><h3 id="必说的四部分"><a href="#必说的四部分" class="headerlink" title="必说的四部分"></a>必说的四部分</h3><ul><li>阅读的主旨句</li><li>听力中主说的观点（同意&#x2F;反对）</li><li>TA给出的原因1</li><li>TA给出的原因2</li></ul><h3 id="记笔记"><a href="#记笔记" class="headerlink" title="记笔记"></a>记笔记</h3><ul><li>阅读部分(15s)<ul><li>主旨<ul><li>Proposal: The student proposes that(to do) + 中心句</li><li>Announcement: The uni&#x2F;school announces that + 中心句</li></ul></li><li>because A and B(分别用一个简单句回答)</li></ul></li><li>听力部分(60s)<ul><li>记笔记<ul><li>v. &gt; adj. &gt;&gt; n.(谓语是一个句子的基本要素)</li></ul></li></ul></li><li>准备(40s)<ul><li>彩排<ul><li>用嘴-&gt;流利度提高（优），效率偏低（劣）</li><li>用眼-&gt;效率提高（优），能力要求高（劣）</li></ul></li></ul></li><li>回答<ul><li>主旨<ul><li>P: The student proposes that(to do) + 中心句 because A and B</li><li>A: The uni&#x2F;school announces that + 中心句 because A and B</li></ul></li><li>The M&#x2F;W (in the C) agrees &#x2F; disagrees with the P &#x2F; A<br>连读：prefer it to …(fer it –&gt; ri)</li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>托福</category>
      
    </categories>
    
    
    <tags>
      
      <tag>托福</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>爱在黎明破晓前</title>
    <link href="/2023/11/27/%E7%88%B1%E5%9C%A8%E9%BB%8E%E6%98%8E%E7%A0%B4%E6%99%93%E5%89%8D/"/>
    <url>/2023/11/27/%E7%88%B1%E5%9C%A8%E9%BB%8E%E6%98%8E%E7%A0%B4%E6%99%93%E5%89%8D/</url>
    
    <content type="html"><![CDATA[<h1 id="2023Fall-Week8"><a href="#2023Fall-Week8" class="headerlink" title="2023Fall-Week8"></a>2023Fall-Week8</h1><span id="more"></span><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="学业"><a href="#学业" class="headerlink" title="学业"></a>学业</h3><h4 id="Done"><a href="#Done" class="headerlink" title="Done"></a>Done</h4><ul><li>整理《自主研究探索》资料</li><li>补各种期中考试前截止的作业</li></ul><h3 id="科研"><a href="#科研" class="headerlink" title="科研"></a>科研</h3><h4 id="Done-1"><a href="#Done-1" class="headerlink" title="Done"></a>Done</h4><ul><li>使用matlab校准相机的内外参</li><li>拍摄真人数据（有点过晚了…）</li></ul><h4 id="To-Do"><a href="#To-Do" class="headerlink" title="To Do"></a>To Do</h4><ul><li>结合代码理解3d-gs的pipeline</li><li>用blender生成合成数据</li><li>发邮件问快手是否开源and问OPPO环境光渲染速度</li></ul><h3 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h3><h4 id="Done-2"><a href="#Done-2" class="headerlink" title="Done"></a>Done</h4><p>看s13半决赛！<br><img src="/img/week/2023Fall-Week8/faker.jpg" alt="s13半决赛"></p><h2 id="爱在黎明破晓前"><a href="#爱在黎明破晓前" class="headerlink" title="爱在黎明破晓前"></a>爱在黎明破晓前</h2><p><img src="/img/week/2023Fall-Week8/teaser.png" alt="爱在黎明破晓前"><br><img src="/img/week/2023Fall-Week8/music.png" alt="爱在黎明破晓前"><br>“偷得浮生半日，换取相知一生。”</p>]]></content>
    
    
    <categories>
      
      <category>周记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>周记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TPO1-听力</title>
    <link href="/2023/11/06/TPO1-%E5%90%AC%E5%8A%9B/"/>
    <url>/2023/11/06/TPO1-%E5%90%AC%E5%8A%9B/</url>
    
    <content type="html"><![CDATA[<h1 id="TPO1"><a href="#TPO1" class="headerlink" title="TPO1"></a>TPO1</h1><span id="more"></span><h2 id="T1C1"><a href="#T1C1" class="headerlink" title="T1C1"></a>T1C1</h2><h3 id="准确率"><a href="#准确率" class="headerlink" title="准确率"></a>准确率</h3><p>4&#x2F;5</p><h3 id="精听积累"><a href="#精听积累" class="headerlink" title="精听积累"></a>精听积累</h3><p>interpretation 理解，解释，说明；演绎<br>on reserve 保留，被预订：指某物品或服务已被预订或保留，不能被其他人使用或购买<br>Let’s get you going on looking for those then 那就让我们继续找吧<br>or so 大约，左右<br>type in 输入<br>come up on the screen 屏幕上显示出来<br>take a while 需要一段时间：表示某事需要一段时间才能完成或发生<br>narrow v. 缩小，变窄<br>narrow down 缩小范围<br>skim v. 略读，浏览<br>doable 可做的，可行的<br>just in case 以防万一</p><h2 id="T1L1"><a href="#T1L1" class="headerlink" title="T1L1"></a>T1L1</h2><h3 id="准确率-1"><a href="#准确率-1" class="headerlink" title="准确率"></a>准确率</h3><p>5&#x2F;6</p><h3 id="精听积累-1"><a href="#精听积累-1" class="headerlink" title="精听积累"></a>精听积累</h3><p>contemporary 当代的，现代的<br>at some point 在某一时刻<br>exhibit 展览<br>gallery 画廊<br>dipict 描绘，描画<br>It didn’t dipict scenes or models exactly as they looked.<br>thickly 浓地，厚地<br>brushstroke 笔触<br>stress v. 强调，重读<br>bleak 不乐观的；无遮掩的；荒凉的，凄凉的<br>blurry 模糊的<br>pinkish 略带粉红色的<br>cattle 牛<br>dance hall 舞厅<br>later on 后来<br>stand still 站着不动，保持静止<br>posture 姿势，体态<br>unidealized 非理想化的<br>subject matter 主题内容：在讨论、思考或研究中提出的问题或内容<br>pumpkin 南瓜<br>zigzag 之字形<br>vibrant 充满活力的<br>peek 偷看，窥视；微露出，探出<br>art fairs 艺术博览会 </p><h2 id="T1C2"><a href="#T1C2" class="headerlink" title="T1C2"></a>T1C2</h2><h3 id="准确率-2"><a href="#准确率-2" class="headerlink" title="准确率"></a>准确率</h3><p>4&#x2F;5</p><h3 id="精听积累-2"><a href="#精听积累-2" class="headerlink" title="精听积累"></a>精听积累</h3><p>go over 前往某地：前往某地获取所需物品<br>astronomy 天文学<br>read over 仔细阅读<br>inter-disciplinary 跨学科的<br>mythology 神话<br>Jupiter 木星<br>all that stuff 所有的东西</p><h2 id="T1L2"><a href="#T1L2" class="headerlink" title="T1L2"></a>T1L2</h2><h3 id="准确率-3"><a href="#准确率-3" class="headerlink" title="准确率"></a>准确率</h3><p>5&#x2F;6</p><h3 id="精听积累-3"><a href="#精听积累-3" class="headerlink" title="精听积累"></a>精听积累</h3><p>geology 地质学<br>a piece of 一片，一小部分<br>dating techniques 测年技术<br>solidified 硬化的，凝固的<br>fairly 相当地，公平地<br>essentially 本质上，基本上<br>has been around for a while 已经存在一段时间了<br>refinement 改进，提炼<br>get into 进入，涉及<br>eye-opening 开阔眼界的<br>end up 最终到达&#x2F;陷入：到达或陷入一个没有计划或预期的地方、状态或情况<br>partical 微粒；极少量；粒子<br>up to a point 在某种程度上<br>crystallize 使结晶，使具体化<br>continent 大陆，洲<br>conclusively 最后地；决定性地</p><h2 id="T1L3"><a href="#T1L3" class="headerlink" title="T1L3"></a>T1L3</h2><h3 id="准确率-4"><a href="#准确率-4" class="headerlink" title="准确率"></a>准确率</h3><p>4&#x2F;6</p><h3 id="精听积累-4"><a href="#精听积累-4" class="headerlink" title="精听积累"></a>精听积累</h3><p>archeology 考古学<br>agriculture 农业<br>Turkish 土耳其的<br>Turkey 土耳其<br>site 场所，地点<br>inhabitant 居民<br>settlement 定居点<br>Neolithic 新石器时代的<br>obsidian 黑曜石<br>flake n. 薄片 v. 剥落<br>storey 楼层<br>sun-dried 阳干的<br>diagonal adj. 对角线的 n. 对角线<br>plaster 灰泥<br>hearths 炉床, 灶台<br>chimney 烟囱<br>hatchway 舱口<br>decorate 装饰<br>soot 煤烟<br>rib 肋骨, 排骨, 罗纹<br>grave 坟墓<br>excavation 挖掘<br>speculate 推测<br>cereal 谷类<br>domestication 驯养<br>ritual 仪式</p><h2 id="T1L4"><a href="#T1L4" class="headerlink" title="T1L4"></a>T1L4</h2><h3 id="准确率-5"><a href="#准确率-5" class="headerlink" title="准确率"></a>准确率</h3><p>6&#x2F;6</p><h3 id="精听积累-5"><a href="#精听积累-5" class="headerlink" title="精听积累"></a>精听积累</h3><p>behaviorally 行为上地<br>marmot 土拨鼠<br>rodent 啮齿动物<br>squirrel 松鼠<br>portion 部分<br>hibernate 冬眠<br>temperate 温带的<br>reside 居住<br>mate 交配<br>frost 结霜<br>herb 草本植物<br>refer to 指的是<br>territorial 领土的<br>loner 孤独者, 不合群的动物<br>aggressive 侵略性的<br>impersonal 冷漠的, 没有人情味的<br>offspring 后代<br>bizarre 奇异的<br>inhabit 居住于<br>meadow 草地<br>nurture 培育<br>burrow v. 挖地洞 n. 洞穴<br>oriented 以…为方向的, 重视…的</p>]]></content>
    
    
    <categories>
      
      <category>英语</category>
      
    </categories>
    
    
    <tags>
      
      <tag>托福</tag>
      
      <tag>听力</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>中国合伙人</title>
    <link href="/2023/11/05/%E4%B8%AD%E5%9B%BD%E5%90%88%E4%BC%99%E4%BA%BA/"/>
    <url>/2023/11/05/%E4%B8%AD%E5%9B%BD%E5%90%88%E4%BC%99%E4%BA%BA/</url>
    
    <content type="html"><![CDATA[<h1 id="2023Fall-Week7"><a href="#2023Fall-Week7" class="headerlink" title="2023Fall-Week7"></a>2023Fall-Week7</h1><span id="more"></span><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="学业"><a href="#学业" class="headerlink" title="学业"></a>学业</h3><h4 id="Done"><a href="#Done" class="headerlink" title="Done"></a>Done</h4><ul><li>《自主研究探索》第七周pre：最后一组展示，到最后时间比较紧张了，展示完按老师点评的修改几个点就行</li><li>《教育与就业》课程第七周个人规划pre：同样是本节课最后一个人展示，险些拖到下周，展示完问老师效果还不错。期间听到了很多文科、数学、茶园以及传统工科同学多元的未来规划，总体来说收获很大。不是所有人的本科生活都是光鲜亮丽的，最重要的还是权衡利弊，评估自己，找到接下来的路。</li><li>传热学稳态&#x2F;非稳态实验</li></ul><h4 id="To-Do"><a href="#To-Do" class="headerlink" title="To Do"></a>To Do</h4><ul><li>完成因为准备pre没来得及做的作业</li><li>传热学实验报告</li><li>复习数值分析</li></ul><h3 id="科研"><a href="#科研" class="headerlink" title="科研"></a>科研</h3><h4 id="Done-1"><a href="#Done-1" class="headerlink" title="Done"></a>Done</h4><ul><li>正在有序地跑剩下的公开人脸数据集</li><li>终于配好了3d-gaussian-splatting的环境，包括colmap</li></ul><h4 id="To-Do-1"><a href="#To-Do-1" class="headerlink" title="To Do"></a>To Do</h4><ul><li>和学长开会讨论下一步进展：明确neural-light-transport的数据集格式，确定下一步的工作，请教blender-python的相关知识</li><li>继续跑剩下的公开人脸数据集</li></ul><h3 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h3><h4 id="Done-2"><a href="#Done-2" class="headerlink" title="Done"></a>Done</h4><ul><li>和北大同学一起去吃了深夜海底捞：万柳店，22：00后69折，服务很好</li><li>周六去听了托福的听力课，老师非常nice，感觉对于备考非常有指导作用<br><img src="/img/week/2023Fall-Week7/%E6%B5%B7%E5%BA%95%E6%8D%9E.jpg" alt="海底捞"><br><img src="/img/week/2023Fall-Week7/%E5%9B%9E%E5%AE%BF%E8%88%8D%E7%9A%84%E8%B7%AF%E4%B8%8A.jpg" alt="回宿舍的路上"></li></ul><h2 id="中国合伙人"><a href="#中国合伙人" class="headerlink" title="中国合伙人"></a>中国合伙人</h2><p><img src="/img/week/2023Fall-Week7/%E7%BE%8E%E5%9B%BD%E6%A2%A6.png" alt="美国梦"><br><img src="/img/week/2023Fall-Week7/%E9%97%AA%E4%BA%AE%E7%9A%84%E6%97%A5%E5%AD%90.png" alt="闪亮的日子"><br>如果额头终将刻上皱纹，你只能做到，不让皱纹刻在你的心上<br>我坚信，当我多年后回望青春的时候，最感动的不是梦想实现的那一刻，而是现在正为梦想奋斗时年轻和自信的自己，就像街上的阳光</p>]]></content>
    
    
    <categories>
      
      <category>周记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>电影</tag>
      
      <tag>周记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>推研</title>
    <link href="/2023/11/04/%E6%8E%A8%E7%A0%94/"/>
    <url>/2023/11/04/%E6%8E%A8%E7%A0%94/</url>
    
    <content type="html"><![CDATA[<h1 id="推研分享"><a href="#推研分享" class="headerlink" title="推研分享"></a>推研分享</h1><span id="more"></span><h2 id="推研要求"><a href="#推研要求" class="headerlink" title="推研要求"></a>推研要求</h2><h3 id="书院要求"><a href="#书院要求" class="headerlink" title="书院要求"></a>书院要求</h3><ul><li>处分消除，无学术类处分</li><li>挂科记录&lt;&#x3D;2门</li><li>前三学年尚未完成必限课程不超过3门，数理课程不超过2门</li></ul><h2 id="推研及出国情况"><a href="#推研及出国情况" class="headerlink" title="推研及出国情况"></a>推研及出国情况</h2><ul><li>推研<ul><li>衔接方向推研：134（17）</li><li>交叉方向推研：92（10）</li></ul></li><li>出国深造：109（14）</li><li>其他方向<ul><li>考研：9</li><li>就业：3</li></ul></li></ul><h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><p>书院：</p><ul><li>5月29日前确认</li><li>8月7日-8月21日填报申请<br>能动系：</li><li>5月17日夏令营报名通知</li><li>7月夏令营</li><li>9月面试<br>科研加分、前置考核、面试细节、限制方向（金融、管理）</li></ul><h2 id="学长学姐分享"><a href="#学长学姐分享" class="headerlink" title="学长学姐分享"></a>学长学姐分享</h2><h3 id="梁宁晏"><a href="#梁宁晏" class="headerlink" title="梁宁晏"></a>梁宁晏</h3><p>去向：航空航天学院工程物理所直博，导师陈群<br>背景：绩点未央-能动0 50%~60% </p><h3 id="崔嘉骏"><a href="#崔嘉骏" class="headerlink" title="崔嘉骏"></a>崔嘉骏</h3><p>去向：能动系流机所直博，导师刘树红<br>背景：未央-能动0</p><h3 id="严晨宇"><a href="#严晨宇" class="headerlink" title="严晨宇"></a>严晨宇</h3><p>去向：能动系热测所直博，导师王哲<br>背景：未央-能动0</p><h3 id="刘云川"><a href="#刘云川" class="headerlink" title="刘云川"></a>刘云川</h3><p>去向：国家重点实验室<br>背景：未央-能动0</p><h3 id="臧学昊"><a href="#臧学昊" class="headerlink" title="臧学昊"></a>臧学昊</h3><p>去向：出国<br>背景：未央-能动0，一篇一作，斯坦福暑研</p>]]></content>
    
    
    <categories>
      
      <category>推研</category>
      
    </categories>
    
    
    <tags>
      
      <tag>推研</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>托福听力01</title>
    <link href="/2023/11/04/%E6%89%98%E7%A6%8F%E5%90%AC%E5%8A%9B01/"/>
    <url>/2023/11/04/%E6%89%98%E7%A6%8F%E5%90%AC%E5%8A%9B01/</url>
    
    <content type="html"><![CDATA[<h1 id="托福听力"><a href="#托福听力" class="headerlink" title="托福听力"></a>托福听力</h1><span id="more"></span><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>整体而言托福大于雅思，尤其是听力部分(雅思听力之前可以看到题，而托福完全盲，所以每句话都很重要)</p><h2 id="听力文章"><a href="#听力文章" class="headerlink" title="听力文章"></a>听力文章</h2><h3 id="TPO8C1"><a href="#TPO8C1" class="headerlink" title="TPO8C1"></a>TPO8C1</h3><h4 id="精读积累"><a href="#精读积累" class="headerlink" title="精读积累"></a>精读积累</h4><p>register for X &#x3D; sign up for X 报名&#x2F;登记&#x2F;注册…<br>registerar 登记员</p><p>pick up 取、接、拿起<br>drop off 送、放下、撂下(pick up or drop off?)</p><p>process 加工、处理<br>diploma 学历&#x2F;文凭</p><p>warning flag academic record 警告标志学术记录(a warning flag on one’s academic record)<br>what’s what 咋回事儿？(口语)</p><p>credit 学分<br>major minor 主修 辅修<br>intermediate 中级的</p><p>department 院系、部门<br>chair 主管、主席<br>head 头儿&#x2F;领导<br>dean 院长</p><p>outline n. 大纲、提纲 v. 列出大纲、概述<br>outline a plan(e a连读)</p><p>issue n.问题 v.发行、发布、发出</p><p>at the intermediate level or higher 中级或以上(e l连读)</p><p>3 credits for each course 每门课3学分(美国一般情况，1200-1500美元一学分)</p><p>couple &#x3D; pair n.一对儿 v.配对、组合、搭配<br>field 场地、领域、田野…<br>field research&#x2F;study&#x2F;project&#x2F;experience… 实地&#x2F;实践&#x2F;实操</p><p>introducotry(intro-) &#x3D; entry &#x3D; elementary &#x3D; basic &#x3D; beginner &#x3D; junior 初级的、入门的<br>intermediate &#x3D; mid-level &#x3D; moderate 中级的<br>senior &#x3D; advanced 高级的</p><p>the assigned work in each course 每门课的作业</p><p>count as 当作、算作</p><p>supplement &#x3D; complement v. n. 补充、补足<br>verify &#x3D; confirm 确认、肯定(id verification 身份验证)(在美国买烟买酒时会经常被查身份，防止未成年人购买)<br>certify &#x3D; prove 证明、证实</p><h4 id="精听笔记"><a href="#精听笔记" class="headerlink" title="精听笔记"></a>精听笔记</h4><p>Form * 1 （目的主旨）</p><p>warning # （内容主旨）<br>要求？ 48 major 24 inter<br>2nd year meet chair … plan … * 2(现在)<br>issue letters … # (过去)<br>met<br>eight intermediate<br>computer reliable * 5(重听题)<br>two basic + field exp<br>intermediate not available field count<br>~同学 easy …  I depth enjoy * 3(对比同学和自己)</p><p>contact<br>call me … verify … * 4 (建议，解决方法)<br>not DDL today weeks real matter</p><h3 id="TPO18C1"><a href="#TPO18C1" class="headerlink" title="TPO18C1"></a>TPO18C1</h3><h4 id="精读积累-1"><a href="#精读积累-1" class="headerlink" title="精读积累"></a>精读积累</h4><p>administration 行政&#x2F;管理<br>administrator 管理人员<br>employment 就业<br>unemployment 失业</p><p>transfer 转移、转学<br>northeastern 东北的<br>Northwestern University 西北大学<br>Chichago 芝加哥</p><p>why’d you leave?(did)<br>and the only program in the state is here</p><p>美国一共有50个州</p><p>host n. 主人&#x2F;寄主 v. 接待 …</p><p>know them (know’em)<br>call him (call’im)</p><p>most of our campus jobs<br>are taken in the first or two of the semester</p><p>remaining positions<br>work-study students getting financial aid<br>aid &#x3D; assist &#x3D; help 帮助、辅助</p><p>run into sth.(口语)遇到&#x2F;碰到…</p><p>Financial Aid(laid)</p><p>might be better off (doing) sth. …也许更好</p><p>about average</p><p>customer service 客服</p><p>something every diplomat needs<br>diplomat 外交官<br>diplomacy 外交<br>diplomatic 外交的</p><p>staff 员工团队<br>extend &#x3D; elongate&#x3D; prolong &#x3D; lengthen v. 延长，拉长<br>you’d probably end up with a bit of everything rather than a regular spot</p><h4 id="精听笔记-1"><a href="#精听笔记-1" class="headerlink" title="精听笔记"></a>精听笔记</h4><p>transfer<br>leave? 小 no 兴趣 program<br>IS ? * 2<br>family host &#x2F; summer program * 3<br>meet people</p><p>job &#x2F; part-time(目的主旨) * 1<br>no money jobs taken</p><p>exp? library<br>here for work-study financial-aid<br>school policy</p><p>wait… computer skill? * 5<br>~teach basic support&#x2F;tech&#x2F;helpdesk<br>problem?<br>early&#x2F;late&#x2F;weekend hours irregular * 4</p><h3 id="TPO18C2"><a href="#TPO18C2" class="headerlink" title="TPO18C2"></a>TPO18C2</h3><h4 id="精读积累-2"><a href="#精读积累-2" class="headerlink" title="精读积累"></a>精读积累</h4><p>perceive perception 认识、认知<br>aspect &#x3D; respect &#x3D; facet 方面<br>wander around 闲逛<br>wonder(同音词结合上下文辨别)<br>accurate &#x3D; exact &#x3D; precise 精确的<br>how well the business is serving their needs</p><p>executive 执行者<br>execute v. 执行<br>execution n. 执行</p><p>radical &#x3D; extreme 极端的<br>embrace 拥抱、拥护、支持</p><p>when Ds. of all companies 在这么多…当中(惊讶)<br>pretend &#x3D; fake 假装<br>replacement &#x3D; substitute &#x3D; alternative 替换、代替<br>fill in the blanks<br>on-the-ground</p><p>the biggest fear they have<br>come across &#x3D; encounter &#x3D; run into 遇到、碰到</p><p>out of touch &#x3D; out of contact 失去联系、接触不到</p><p>rock and roll -&gt; rock’n’roll 摇滚乐<br>want and need -&gt; want’n’need 想要和需要</p><p>only… so much… 只有这么多…<br>refine 提炼、改良、提纯、改善</p><p>manufacture &#x3D; produce 生产、制造<br>respond to &#x3D; react to 对…做出反应<br>response &#x3D; reaction 反应</p><p>resist &#x3D; repel 抵抗、抵制<br>bother &#x3D; annoy &#x3D; disturb 打扰、烦扰</p><p>mayor 市长<br>governor 州长</p><p>pothole 坑洞<br>memo 备忘录<br>Baltimore 巴尔的摩：约翰霍普金斯大学所在地</p><h4 id="精听笔记-2"><a href="#精听笔记-2" class="headerlink" title="精听笔记"></a>精听笔记</h4><p>customer ?<br>MBWA<br>accurate  talk serve exp? strength?(定义、解释) * 1</p><p>~ D<br>超市 talk&#x2F;ask make changes * 4(举例)<br>radical popular * 6(重听题)<br>small sample dangerous<br>can not be replaced<br>market:big MBWA:blanks sense<br>small careful * 2(对比，态度)<br>fear: out of touch<br>combine -&gt; powerful tools</p><p>~EK<br>sell cloth(举例)</p><p>Mike<br>customer bother<br>opposite reaction #(不用担心)</p><p>works well<br>politics<br>~mayor<br>serve exp<br>memo… talk MBWA</p><h2 id="听力痛点-问题"><a href="#听力痛点-问题" class="headerlink" title="听力痛点&amp;问题"></a>听力痛点&amp;问题</h2><p>托福单词量：8000+<br>单词问题，句子问题，段落问题，整篇问题：…</p>]]></content>
    
    
    <categories>
      
      <category>托福</category>
      
    </categories>
    
    
    <tags>
      
      <tag>托福</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>硅谷</title>
    <link href="/2023/11/02/%E7%A1%85%E8%B0%B7/"/>
    <url>/2023/11/02/%E7%A1%85%E8%B0%B7/</url>
    
    <content type="html"><![CDATA[<h1 id="2023Fall-Week6"><a href="#2023Fall-Week6" class="headerlink" title="2023Fall-Week6"></a>2023Fall-Week6</h1><span id="more"></span><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="学业"><a href="#学业" class="headerlink" title="学业"></a>学业</h3><p>本学期最后一个比较轻松的工作周</p><h4 id="Done"><a href="#Done" class="headerlink" title="Done"></a>Done</h4><ul><li>完成各科作业</li></ul><h4 id="To-Do"><a href="#To-Do" class="headerlink" title="To Do"></a>To Do</h4><ul><li>《自主研究探索》第七周pre</li><li>《教育与就业》课程第七周个人规划pre</li><li>《传热学》稳态和非稳态实验</li></ul><h3 id="科研"><a href="#科研" class="headerlink" title="科研"></a>科研</h3><p>开始准备自己的科研项目</p><h4 id="Done-1"><a href="#Done-1" class="headerlink" title="Done"></a>Done</h4><ul><li>周一和精望、宇轩、文缤学长讨论了自己科研方向的idea，最终打算结合2023 Siggraph的最佳论文之一3d-guassian-splatting和neural-light-transport的方法做实时重光照的任务</li><li>阅读了3d-guassian-splatting，neural-light-transport以及相关baseline的论文</li><li>本周最麻烦的事，尝试配置3d-guassian-splatting的代码环境：首先用实验室有3090的服务器配置，学长给了sudo权限，配置到最后一步运行生成的软件时发现服务器版本过低，结果阴差阳错安装了旧版的显卡，导致服务器更新显卡重启，学长也收回了sudo权限。后来尝试在autodl上租服务器配环境，但即使学术加速后git clone也不可接受地慢，现在还没配好环境，下周继续尝试</li><li>修改了point avatar的optimize阶段代码，对于每个batch增加了一个substep，解决了由于数据量太小在同样的epoch下multiface数据不收敛的问题。修改后能得到较好的点云结果。</li><li>在校准四台手机相机内外参方面，先采用同时拍摄的四张图片用opencv方法做校准</li></ul><h4 id="To-Do-1"><a href="#To-Do-1" class="headerlink" title="To Do"></a>To Do</h4><ul><li>和明鑫学长交流去跑剩下的实验数据（还好CVPR延期了一周，不然感觉直接寄了）</li><li>开始着手写自己的项目，目前大概的计划如下：<ul><li>学习blender合成数据集：1.多视角单光照 2.多视角多光照</li><li>分别跑3d-gaussian-splatting多视角单光照和neural-light-transport多视角多光照的代码，得到结果</li><li>将neural-light-transport的方法缝合进3d-gaussian-splatting的代码中，得到初版baseline的结果</li></ul></li><li>继续阅读相关文献，学习相关知识</li></ul><h3 id="社工"><a href="#社工" class="headerlink" title="社工"></a>社工</h3><h4 id="Done-2"><a href="#Done-2" class="headerlink" title="Done"></a>Done</h4><ul><li>跑通了整个pipeline</li><li>讨论了赛事后续的走向</li></ul><h4 id="To-Do-2"><a href="#To-Do-2" class="headerlink" title="To Do"></a>To Do</h4><ul><li>和科协主席确定赛事后续发展<ul><li>若继续办赛，则需要确定办赛的具体时间，比如是本学期还是寒假，以便后续开展赛事的包装和宣传工作</li><li>若不办赛，可以考虑将数据集作为学术部深度学习讲解的一个未央特色练手项目</li></ul></li></ul><h3 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h3><h4 id="Done-3"><a href="#Done-3" class="headerlink" title="Done"></a>Done</h4><ul><li>周五继续去吃了烧烤<br><img src="/img/week/2023Fall-Week6/%E7%83%A7%E7%83%A401.jpg" alt="烧烤"><br><img src="/img/week/2023Fall-Week6/%E7%83%A7%E7%83%A402.jpg" alt="烧烤"></li><li>首次办理护照<br>过程非常简单，提前网上预约后拿身份证去就行，不需要准备额外材料。办理需要七个工作日。<br><img src="/img/week/2023Fall-Week6/%E6%8A%A4%E7%85%A7.jpg" alt="护照"></li><li>工位更新<br>给工位安装了新书架<br><img src="/img/week/2023Fall-Week6/%E5%B7%A5%E4%BD%8D.jpg" alt="工位"></li><li>鸿雁计划托福课<br>周六去蹭课听了一节，老师发音很标准，感觉平时纯靠自己学还是太难坚持了，以后每周六都要坚持去听！</li></ul><h4 id="To-Do-3"><a href="#To-Do-3" class="headerlink" title="To Do"></a>To Do</h4><ul><li>老馆重启，周末有空去看看老馆吧</li></ul><h2 id="硅谷"><a href="#硅谷" class="headerlink" title="硅谷"></a>硅谷</h2><p><img src="/img/week/2023Fall-Week6/%E7%A1%85%E8%B0%B701.png" alt="剧照"><br><img src="/img/week/2023Fall-Week6/%E7%90%86%E6%9F%A5%E5%BE%B7.png" alt="男主"><br><img src="/img/week/2023Fall-Week6/%E8%8E%AB%E5%A6%AE%E5%8D%A1.png" alt="女主"><br>大二暑假开始看的，超爱的it喜剧，一共6季，已经看了2季<br>相比于《生活大爆炸》《老友记》，还是更能get到这部剧的笑点<br>更奇妙的是，明年寒假就有去硅谷的机会，到时候一定要跟这部剧的经典场景联动一下！</p>]]></content>
    
    
    <categories>
      
      <category>周记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>周记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>垫底辣妹</title>
    <link href="/2023/10/22/%E5%9E%AB%E5%BA%95%E8%BE%A3%E5%A6%B9/"/>
    <url>/2023/10/22/%E5%9E%AB%E5%BA%95%E8%BE%A3%E5%A6%B9/</url>
    
    <content type="html"><![CDATA[<h1 id="2023Fall-Week5"><a href="#2023Fall-Week5" class="headerlink" title="2023Fall-Week5"></a>2023Fall-Week5</h1><span id="more"></span><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="学业"><a href="#学业" class="headerlink" title="学业"></a>学业</h3><h4 id="Done"><a href="#Done" class="headerlink" title="Done"></a>Done</h4><p>按部就班地完成了各课程的作业，任务量相对较少。但转眼下周就是第六周了，马上就要期中考试了</p><h4 id="To-Do"><a href="#To-Do" class="headerlink" title="To Do"></a>To Do</h4><ul><li>《数值分析》第八周期中考试。这学期只有数值分析有期中考试，准备时间会更充裕一点，从第六周开始就要着手准备了</li><li>《教育与就业》课程第七周要进行规划介绍。虽然我目前的条件与我的规划之间距离还比较遥远，但我必须自信地向老师和同学们展示我的规划，让他们看到我对未来的信心</li><li>《自主研究探索》课程第七周要进行小组pre。第六周要开始准备pre的材料了</li></ul><h3 id="科研"><a href="#科研" class="headerlink" title="科研"></a>科研</h3><h4 id="Done-1"><a href="#Done-1" class="headerlink" title="Done"></a>Done</h4><ul><li>跑通了neural head avatar多视角最终版本的代码，成功地提取到了每一帧的mesh。跑通了point avatar多视角的代码</li><li>修改了point avatar的tracking阶段代码，在多视角优化情况下固定了flame模型的shape，expression参数</li><li>跑通了point avatar多视角版本的代码，但渲染和mesh效果都很差，mesh效果不佳从法相图weird即可推断</li><li>经过讨论发现多层mesh做人脸的idea不可行，原因在于加速效果需要我具备很多编程技巧，比如前端，webgl，硬件编程等等，不太符合“人和”这个条件</li></ul><h4 id="To-Do-1"><a href="#To-Do-1" class="headerlink" title="To Do"></a>To Do</h4><ul><li>尝试优化point avatar多视角的mesh结果</li><li>校准实验室手机相机的内外参</li><li>和学长讨论新的idea</li></ul><h3 id="社工"><a href="#社工" class="headerlink" title="社工"></a>社工</h3><h4 id="Done-2"><a href="#Done-2" class="headerlink" title="Done"></a>Done</h4><ul><li>和亚信讨论数据集的用法</li><li>和江杰初步跑通了基于Kaggle使用数据集的pipeline</li></ul><h4 id="To-Do-2"><a href="#To-Do-2" class="headerlink" title="To Do"></a>To Do</h4><ul><li>讨论办赛细节，比如正确标准划分，数据集划分等等</li></ul><h3 id="生活"><a href="#生活" class="headerlink" title="生活"></a>生活</h3><h4 id="Done-3"><a href="#Done-3" class="headerlink" title="Done"></a>Done</h4><ul><li>周六晚一个人去吃了上次北大同学带我去的烧烤店，一个人点的有点多，但算是过了在校园内很难尽兴吃烧烤的瘾<br><img src="/img/week/2023Fall-Week5/%E7%83%A7%E7%83%A4.jpg" alt="烧烤"><br><img src="/img/week/2023Fall-Week5/%E7%83%A7%E7%83%A4_.jpg" alt="烧烤"></li></ul><h4 id="To-Do-3"><a href="#To-Do-3" class="headerlink" title="To Do"></a>To Do</h4><ul><li>周五上完《传热学》去吃，下次一个人的话点少点</li></ul><h2 id="垫底辣妹"><a href="#垫底辣妹" class="headerlink" title="垫底辣妹"></a>垫底辣妹</h2><p><img src="/img/film/%E5%9E%AB%E5%BA%95%E8%BE%A3%E5%A6%B9/%E6%B5%B7%E6%8A%A5.png" alt="海报"><br><img src="/img/film/%E5%9E%AB%E5%BA%95%E8%BE%A3%E5%A6%B9/snap00.png" alt="剧照"><br><img src="/img/film/%E5%9E%AB%E5%BA%95%E8%BE%A3%E5%A6%B9/snap01.png" alt="剧照"><br><img src="/img/film/%E5%9E%AB%E5%BA%95%E8%BE%A3%E5%A6%B9/%E8%B1%86%E7%93%A3%E5%BD%B1%E8%AF%84.png" alt="豆瓣影评"><br>十分推荐！<br>一部日本励志电影，我相信每个人在看的过程中都会找到曾经，现在或将来为目标努力奋斗的自己。<br>也许有人会质疑这部电影的现实性，价值正确性。但与我而言，电影中为他人人生努力的评田老师和为自己目标努力的加耶子是我将来和现在理想中的状态，我在观影后深受感动，满怀热情，这就够了。</p>]]></content>
    
    
    <categories>
      
      <category>周记</category>
      
    </categories>
    
    
    <tags>
      
      <tag>周记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>电影</title>
    <link href="/2023/10/18/%E7%94%B5%E5%BD%B1/"/>
    <url>/2023/10/18/%E7%94%B5%E5%BD%B1/</url>
    
    <content type="html"><![CDATA[<h1 id="观影记录"><a href="#观影记录" class="headerlink" title="观影记录"></a>观影记录</h1><h2 id="已看"><a href="#已看" class="headerlink" title="已看"></a>已看</h2><h3 id="中文"><a href="#中文" class="headerlink" title="中文"></a>中文</h3><ul><li>曹保平：李米的猜想（2008）；烈日灼心（2015）</li><li>陈国富：风声（2009）</li><li>陈可辛：甜蜜蜜（1996）；亲爱的（2014）；夺冠（2020）</li><li>陈木胜：扫毒（2013）</li><li>陈玉珊：我的少女时代（2015）；一吻定情（2019）</li><li>崔睿：消失的她（2023）</li><li>杜琪峰：暗战（1999）；神探（2007）；毒战（2012）</li><li>非行：全民目击（2013）</li><li>高群书：风声（2009）</li><li>关智耀：追龙（2017）</li><li>黄天仁：想见你（2022）</li><li>姜文：让子弹飞（2010）</li><li>九把刀：那些年，我们一起追的女孩（2011）</li><li>柯汶利：误杀（2019）</li><li>李睿珺：隐入尘烟（2022）</li><li>林超贤：激战（2013）；破风（2015）；湄公河行动（2016）</li><li>刘伟强：头文字D（2005）</li><li>刘翔：消失的她（2023）</li><li>刘循子墨：扬名立万（2021）</li><li>麦兆辉：头文字D（2005）</li><li>宁浩：疯狂的石头（2006）</li><li>申奥：孤注一掷（2023）</li><li>腾华涛：失恋33天（2011）</li><li>田羽生：前任3：再见前任（2017）</li><li>王家卫：重庆森林（1994）</li><li>王晶：追龙（2017）</li><li>韦家辉：神探（2007）</li><li>乌尔善：封神第一部：朝歌风云（2023）</li><li>张艺谋：秋菊打官司（1992）；满江红（2003）    </li><li>周杰伦：不能说的秘密（2007）</li><li>庄文强：无双（2018）</li></ul><h3 id="欧美"><a href="#欧美" class="headerlink" title="欧美"></a>欧美</h3><h4 id="A"><a href="#A" class="headerlink" title="A"></a>A</h4><ul><li>阿尼什·查甘蒂：网络谜踪（2018）</li><li>安德烈·祖拉斯基：着魔（1981）</li></ul><h4 id="B"><a href="#B" class="headerlink" title="B"></a>B</h4><ul><li>贝纳尔多·贝托鲁奇：戏梦巴黎（2003）</li><li>贝尼特·米勒：点球成金（20011）</li><li>布莱恩·辛格：非常嫌疑犯（1995）；波西米亚狂想曲（2018）</li></ul><h4 id="C"><a href="#C" class="headerlink" title="C"></a>C</h4><ul><li>克里斯托弗·诺兰：记忆碎片（2000）；蝙蝠侠：黑暗骑士（2008）；盗梦空间（2010）；蝙蝠侠：黑暗骑士崛起（2012）</li><li>克里斯托弗·史密斯：恐怖游轮（2009）</li></ul><h4 id="D"><a href="#D" class="headerlink" title="D"></a>D</h4><ul><li>大卫·芬奇：七宗罪（1995）；搏击俱乐部（1999）；社交网络（2010）；消失的爱人（2014）</li><li>邓肯·琼斯：源代码（2011）</li></ul><h4 id="E"><a href="#E" class="headerlink" title="E"></a>E</h4><ul><li>埃里克·布雷斯：蝴蝶效应（2004）</li><li>埃里克·侯麦：春天的故事（1990）</li></ul><h4 id="F"><a href="#F" class="headerlink" title="F"></a>F</h4><ul><li>弗兰克·德拉邦特：肖申克的救赎（1994）；迷雾（2007）</li></ul><h4 id="J"><a href="#J" class="headerlink" title="J"></a>J</h4><ul><li>乔纳森·戴米：沉默的羔羊（1991）</li><li>让-马克·瓦雷：达拉斯买家俱乐部（2013）</li><li>詹姆斯·曼高德：致命ID（2003）</li><li>詹姆斯·沃德·布柯特：彗星来的那一夜（2013）</li></ul><h4 id="M"><a href="#M" class="headerlink" title="M"></a>M</h4><ul><li>M·奈特·沙马兰：第六感（1999）</li><li>马丁·斯科塞斯：禁闭岛（2010）</li><li>米凯尔·哈弗斯特罗姆：金蝉脱壳（2013）</li></ul><h4 id="N"><a href="#N" class="headerlink" title="N"></a>N</h4><ul><li>尼克·卡萨维蒂：迫在眉梢（2002）</li></ul><h4 id="P"><a href="#P" class="headerlink" title="P"></a>P</h4><ul><li>保罗·哈吉斯：撞车（2004）</li><li>彼得·法雷里：绿皮书（2018）</li></ul><h4 id="R"><a href="#R" class="headerlink" title="R"></a>R</h4><ul><li>罗德里戈·科尔特斯：活埋（2010）</li></ul><h4 id="S"><a href="#S" class="headerlink" title="S"></a>S</h4><ul><li>西德尼·吕美特：十二怒汉（1957）</li><li>萨姆·泰勒·约翰逊：五十度灰（2015）</li></ul><h4 id="T"><a href="#T" class="headerlink" title="T"></a>T</h4><ul><li>托德·菲利普斯：小丑（2019）</li><li>托马斯·温特伯格：狩猎（2012）</li><li>托尼·凯耶：超脱（2011）</li></ul><h4 id="V"><a href="#V" class="headerlink" title="V"></a>V</h4><ul><li>文森佐·纳塔利：心慌方（1997）</li></ul><h4 id="W"><a href="#W" class="headerlink" title="W"></a>W</h4><ul><li>温子仁：电锯惊魂（2004）；招魂（2013）；速度与激情7（2015）；海王（2018）</li></ul><h3 id="日本"><a href="#日本" class="headerlink" title="日本"></a>日本</h3><ul><li>滨口龙介：偶然与想象（2021）</li><li>儿玉兼嗣：名侦探柯南：贝克街的亡灵（2002）</li><li>今敏：红辣椒（2006）</li><li>土井裕泰：花束般的恋爱（2022）</li><li>岩井俊二：情书（1995）</li><li>佐藤东弥：赌博默示录（2009）</li></ul><h3 id="韩国"><a href="#韩国" class="headerlink" title="韩国"></a>韩国</h3><ul><li>奉俊昊：杀人回忆（2003）</li><li>黄东赫：熔炉（2011）</li><li>金秉祐：恐怖直播（2013）</li><li>朴赞郁：小姐（2016）</li></ul><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><h4 id="伊朗"><a href="#伊朗" class="headerlink" title="伊朗"></a>伊朗</h4><ul><li>阿巴斯·基亚罗斯塔米：何处是我朋友的家（1987）</li></ul>]]></content>
    
    
    <categories>
      
      <category>电影</category>
      
    </categories>
    
    
    <tags>
      
      <tag>电影</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>raytracing_the-rest-of-your-life</title>
    <link href="/2023/09/07/raytracing-the-rest-of-your-life/"/>
    <url>/2023/09/07/raytracing-the-rest-of-your-life/</url>
    
    <content type="html"><![CDATA[<h1 id="Ray-Tracing-The-Rest-Of-Your-Life"><a href="#Ray-Tracing-The-Rest-Of-Your-Life" class="headerlink" title="Ray Tracing: The Rest Of Your Life"></a>Ray Tracing: The Rest Of Your Life</h1><span id="more"></span><h2 id="1-Overview"><a href="#1-Overview" class="headerlink" title="1.Overview"></a>1.Overview</h2><h2 id="2-A-Simple-Monte-Carlo-Program"><a href="#2-A-Simple-Monte-Carlo-Program" class="headerlink" title="2.A Simple Monte Carlo Program"></a>2.A Simple Monte Carlo Program</h2><p>有两类随机算法：Monte Carlo和Las Vegas</p><ul><li>Las Vegas：总是给出正确的结果，但是运行时间是随机的(快速排序)</li><li>Monte Carlo：总是在有限时间内给出结果，但是结果可能是错误的</li></ul><p>Monte Carlo算法给出一种统计评估，运行时间越久，估计结果越准确</p><h3 id="2-1-Estimating-Pi"><a href="#2-1-Estimating-Pi" class="headerlink" title="2.1 Estimating Pi"></a>2.1 Estimating Pi</h3><p>在[-1,1]x[-1,1]的正方形内随机生成N个点，计算落在圆内的点的个数，用这个比例乘以4就是$\pi$的估计值</p><h3 id="2-2-Showing-Convergence"><a href="#2-2-Showing-Convergence" class="headerlink" title="2.2 Showing Convergence"></a>2.2 Showing Convergence</h3><p>把程序改成永久运行，我们可以很快地接近$\pi$，然后慢慢地逼近它</p><h3 id="2-3-Stratified-Samples-Jittering"><a href="#2-3-Stratified-Samples-Jittering" class="headerlink" title="2.3 Stratified Samples (Jittering)"></a>2.3 Stratified Samples (Jittering)</h3><p>Diminishing Returns</p><blockquote><p>递减收益：在投入更多的劳动力或资本后，产出增长的速度会逐渐减缓，最终无法与投入成正比。</p></blockquote><p>这是Monte Carlo算法最差的情况，每一次采样的帮助都不如上一次的。我们可以通过分层采样减缓这种情况<br>我们在网格中每个格子内选取一个样本而不是随机采样<br><img src="/img/stratify.jpg" alt="sampling areas"><br>分层方法不仅效果更好，收敛速度也更快。然而，这种优势会随着问题的维数增加而减小<br>Curse of Dimensionality</p><blockquote><p>维数灾难：在多维系统分析中由于可用数据的稀疏性而引起的问题。<br>· The curse of dimensionality makes it difficult to analyze multidimensional systems due to the sparse nature of the available data.<br>维数灾难使得由于可用数据的稀疏性，分析多维系统变得困难。</p></blockquote><p>光线追踪就是一个高维的算法，每次反射新增两个维度$\theta,\phi$<br>作为过渡，我们将对每个像素周围的采样位置进行分层<br><img src="/img/riw/nos.png" alt="no stratified samples"><br><img src="/img/riw/withs.png" alt="stratified samples"><br>分层采样之后，在盒子和平面边缘有更锋利的对比，在频率变化较高的地区，这种影响将更为明显</p><h2 id="3-One-Dimensional-Monte-Carlo-Integration"><a href="#3-One-Dimensional-Monte-Carlo-Integration" class="headerlink" title="3. One Dimensional Monte Carlo Integration"></a>3. One Dimensional Monte Carlo Integration</h2><h3 id="3-1-Expected-Value"><a href="#3-1-Expected-Value" class="headerlink" title="3.1 Expected Value"></a>3.1 Expected Value</h3><p>$Y$的期望<br>$$\begin{aligned}<br>avarage(Y) &amp;&#x3D; E[Y] &#x3D; \frac{1}{N} \sum_{i&#x3D;0}^{N-1} y_i \newline<br>&amp;&#x3D; \frac{1}{N} \sum_{i&#x3D;0}^{N-1} f(x_i) \newline<br>&amp;&#x3D; E[F(X)]<br>\end{aligned}$$<br>如果$x_i$在区间$[a,b]$上连续，则$E[F(X)]$近似于连续函数$f(x’)$在区间$a&lt;x’&lt;b$上的平均值<br>$$\begin{aligned}<br>E[f(x’)|a&lt;x’&lt;b] &amp;\approx E[F(X) | X &#x3D; {x_i|a&lt;x_i&lt;b}] \newline<br>&amp;\approx E[y &#x3D; {f(x_i)|a&lt;x_i&lt;b}] \newline<br>&amp;\approx \frac{1}{N} \sum_{i&#x3D;0}^{N-1} f(x_i)<br>\end{aligned}$$<br>当$N\rightarrow\infty$时<br>$$\begin{aligned}<br>E[f(x’)|a&lt;x’&lt;b] &#x3D; lim_{N\rightarrow\infty} \frac{1}{N} \sum_{i&#x3D;0}^{N-1} f(x_i)<br>\end{aligned}$$<br>当采样点的数量足够多时，我们可以用输出结果的平均值来近似函数的期望值，这就是Monte Carlo算法<br>除了随机采样，我们可以选择平均划分的空间点<br>$$\begin{aligned}<br>x_i &#x3D; a+i\Delta x\newline<br>\Delta x &#x3D; \frac{b-a}{N}<br>\end{aligned}$$<br>期望值如下<br>$$\begin{aligned}<br>E[f(x’)|a&lt;x’&lt;b] &amp;\approx \frac{1}{N} \sum_{i&#x3D;0}^{N-1} f(x_i) \newline<br>&amp;&#x3D; \frac{\Delta x}{b-a} \sum_{i&#x3D;0}^{N-1} f(x_i) \newline<br>&amp;&#x3D; \frac{1}{b-a} \sum_{i&#x3D;0}^{N-1} f(x_i) \Delta x \newline<br>&amp;\approx \frac{1}{b-a} \int_a^b f(x) dx(N\rightarrow\infty)\newline<br>&amp;&#x3D; \frac{1}{b-a} area(f(x),a,b)<br>\end{aligned}$$<br>积分和蒙特卡洛方法都可以求特定区间的平均值<br>积分是求解无穷多个无限小区间的和的平均值，蒙特卡罗算法将通过求解区间内不断增加的随机抽样点的和来近似相同的平均值</p><h3 id="3-2-Integrating-x²-example"><a href="#3-2-Integrating-x²-example" class="headerlink" title="3.2 Integrating x²(example)"></a>3.2 Integrating x²(example)</h3><h3 id="3-3-Density-Functions"><a href="#3-3-Density-Functions" class="headerlink" title="3.3 Density Functions"></a>3.3 Density Functions</h3><p>之前的ray_color算法存在一个主要的问题，较小的光源会产生非常大的噪声，这是因为我们的采样方法不能经常对这些光源进行采样<br>光源只有当光线射向它们时才被采样，但这对于面积较小的光源和较远的光源是比较困难的<br>对于任一给定的光线，我们经常从相机开始跟踪，通过场景，终止于光源；但我们可以尝试从光源开始跟踪，通过场景，终止于相机<br>对于后者中的任意一条光线，它会从光源出发，在多次弹射中被不同表面反射而变暗或上色，最终到达相机<br>如果我们强制使其弹射向相机，那么会损失中间多次弹射的过程<br>这种方法可以解决光源较小&#x2F;远时一个像素亮但周围像素暗的问题，但会导致所有像素都比较亮<br>我们可以通过降低特定采样点的权重调整过采样来解决这个问题<br>首先需要了解密度函数<br>Density Function<br><img src="/img/riw/histogram.jpg" alt="histogram"><br>$$\begin{aligned}<br>Probability\ of\ bin\ i\ &amp;&#x3D;\ Density\ of\ Bin\ i\newline &amp;&#x3D; \frac{Number\ of\ items\ in\ Bin\ i}{Number\ of\ items\ total} \newline<br>\end{aligned}$$<br>PDF(Probability Density Function)是一个连续函数，可以对其进行积分来确定结果落在某个区间的概率</p><h3 id="3-4-Constructing-a-PDF"><a href="#3-4-Constructing-a-PDF" class="headerlink" title="3.4 Constructing a PDF"></a>3.4 Constructing a PDF</h3><h3 id="3-5-Choosing-our-Samples"><a href="#3-5-Choosing-our-Samples" class="headerlink" title="3.5 Choosing our Samples"></a>3.5 Choosing our Samples</h3><p>Metropolis-Hastings Algorithm</p><blockquote><p>In statistics and statistical physics, the Metropolis–Hastings algorithm is a Markov chain Monte Carlo (MCMC) method for obtaining a sequence of random samples from a probability distribution from which direct sampling is difficult. This sequence can be used to approximate the distribution (e.g. to generate a histogram) or to compute an integral (e.g. an expected value). Metropolis–Hastings and other MCMC algorithms are generally used for sampling from multi-dimensional distributions, especially when the number of dimensions is high. For single-dimensional distributions, there are usually other methods (e.g. adaptive rejection sampling) that can directly return independent samples from the distribution, and these are free from the problem of autocorrelated samples that is inherent in MCMC methods.</p></blockquote><h3 id="3-6-Approximating-Distributions"><a href="#3-6-Approximating-Distributions" class="headerlink" title="3.6 Approximating Distributions"></a>3.6 Approximating Distributions</h3><h3 id="3-7-Importance-Sampling"><a href="#3-7-Importance-Sampling" class="headerlink" title="3.7 Importance Sampling"></a>3.7 Importance Sampling</h3><h2 id="4-Monte-Carlo-Integration-on-the-Sphere-of-Directions"><a href="#4-Monte-Carlo-Integration-on-the-Sphere-of-Directions" class="headerlink" title="4. Monte Carlo Integration on the Sphere of Directions"></a>4. Monte Carlo Integration on the Sphere of Directions</h2><p><img src="/img/riw/sphere.jpg" alt="sphere"></p><h2 id="5-Light-Scattering"><a href="#5-Light-Scattering" class="headerlink" title="5. Light Scattering"></a>5. Light Scattering</h2><h2 id="…"><a href="#…" class="headerlink" title="…"></a>…</h2><p><img src="/img/riw/final.png" alt="final"></p>]]></content>
    
    
    <categories>
      
      <category>note</category>
      
    </categories>
    
    
    <tags>
      
      <tag>图形学学习笔记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>大一大二观影总结</title>
    <link href="/2023/09/01/%E5%A4%A7%E4%B8%80%E5%A4%A7%E4%BA%8C%E8%A7%82%E5%BD%B1%E6%80%BB%E7%BB%93/"/>
    <url>/2023/09/01/%E5%A4%A7%E4%B8%80%E5%A4%A7%E4%BA%8C%E8%A7%82%E5%BD%B1%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h1 id="大一大二观影总结"><a href="#大一大二观影总结" class="headerlink" title="大一大二观影总结"></a>大一大二观影总结</h1><span id="more"></span><h2 id="大一下"><a href="#大一下" class="headerlink" title="大一下"></a>大一下</h2><h3 id="0-前言"><a href="#0-前言" class="headerlink" title="0. 前言"></a>0. 前言</h3><p>看电影，对我而言是为数不多的爱好之一。电影类型我涉猎较广，偏爱悬疑，推理，警匪，喜欢这类电影结尾时主角揭开所有真相时拍案叫绝的感受。<br>我在大一下加入了学校的电影协会，加入之前我自认为对电影有一定了解，但参加几次观影讨论后发现自己对电影理解之浅薄，从下文将要提到的具体影片就可看出。<br>但我始终认为，电影是一种孤独的艺术，在某个闲暇的傍晚挑一部喜欢的影片静静欣赏，绝对是一种极佳的享受，也是这个快餐时代中越来越难得的体验。观影还是一个时期的记录，回忆一部影片，绝不仅仅想起这片影片本身，还有那个阶段的人，事和思考。<br>我在前段时间才学会了写博客，想在此对我大一下以来观看的57部影片做一简要梳理，主要总结我的主观感受和当时的人与事，以电影为时间线，回顾一下我的大一大二生活。<br>非常欢迎对内容感兴趣的读者和我交流讨论。</p><h3 id="1-熔炉"><a href="#1-熔炉" class="headerlink" title="1. 熔炉"></a>1. 熔炉</h3><p><img src="/img/%E7%86%94%E7%82%89.jpg" alt="熔炉"></p><ul><li>评分：8<br>在大一下学期开学回学校的火车上看的，之前听说很有名，豆瓣评分很高，就提前下载了这部影片准备在火车上打发时间。<br>影片内容说实话并没有让我非常印象深刻，可能只有更加了解现实中的一些相关事件才能更好地理解这部影片想要表达的东西。<br>回想起来那次应该是最后一次和高中同学一起回学校了吧，当时因为核酸结果迟迟不出来差点没赶上火车。在火车上我和几个北大的同学漫无目的地聊着，对未来没有任何认知，转眼间已从大一的新生成了大三的本科老人，对未来依然迷茫，却已不再有大一时对校园生活的憧憬与热情。这两年原来的同学也更加忙碌，希望在本科阶段还能再一起多聚聚。</li></ul><h3 id="2-社交网络"><a href="#2-社交网络" class="headerlink" title="2. 社交网络"></a>2. 社交网络</h3><p><img src="/img/%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C.jpg" alt="社交网络"></p><ul><li>评分：9.5<br>因为好奇扎克伯格的创业史我在大一下学期初的一个周末晚上看了这部电影。<br>电影开头扎克伯格因为nerd被甩，结尾男主鼓起勇气在自己创办的facebook平台上向校园时期的女神发了好友申请。果然爱情才是大多数理工男一生的痛吗hhh<br>当时看完这部电影心情汹涌澎湃，还特意发了一条电影截图的朋友圈，因为被扎克伯格的天才与勇气所打动。</li></ul><h3 id="3-狩猎"><a href="#3-狩猎" class="headerlink" title="3. 狩猎"></a>3. 狩猎</h3><p><img src="/img/%E7%8B%A9%E7%8C%8E.jpg" alt="狩猎"></p><ul><li>评分：8.5<br>久闻大名的一部片子，看完后觉得麦叔确实有魅力，影片内容也能反映出现实中的一些社会问题。谣言可以澄清，但偏见难以根除。</li></ul><h3 id="4-恐怖游轮"><a href="#4-恐怖游轮" class="headerlink" title="4. 恐怖游轮"></a>4. 恐怖游轮</h3><p><img src="/img/%E6%81%90%E6%80%96%E6%B8%B8%E8%BD%AE.jpg" alt="恐怖游轮"></p><ul><li>评分：10<br>为数不多让我觉得看完直呼过瘾的影片。当时参加学校生权组织的观影活动看的，看完还激动地加了组织者的微信表达了对这部影片的喜爱。<br>十分推荐观看原片。</li></ul><h3 id="5-扫毒"><a href="#5-扫毒" class="headerlink" title="5. 扫毒"></a>5. 扫毒</h3><p><img src="/img/%E6%89%AB%E6%AF%92.jpg" alt="扫毒"></p><ul><li>评分：9<br>国产警匪悬疑佳作，刘青云，古天乐，张家辉三男主影帝飙戏。<br>导演陈木胜的另一部作品《怒火重案》也十分不错。</li></ul><h3 id="6-蝴蝶效应"><a href="#6-蝴蝶效应" class="headerlink" title="6. 蝴蝶效应"></a>6. 蝴蝶效应</h3><p><img src="/img/%E8%9D%B4%E8%9D%B6%E6%95%88%E5%BA%94.jpg" alt="蝴蝶效应"></p><ul><li>评分：9.6<br>难得的悬疑佳作，男主不断回到过去，试图拯救自己爱的人，但每一次都以意外告终。<br>哪怕重新来过，仍无法达到完美；不如接受缺憾，珍惜现在。</li></ul><h3 id="7-让子弹飞"><a href="#7-让子弹飞" class="headerlink" title="7. 让子弹飞"></a>7. 让子弹飞</h3><p><img src="/img/%E8%AE%A9%E5%AD%90%E5%BC%B9%E9%A3%9E.jpg" alt="让子弹飞"></p><ul><li>评分：8<br>民间封神的一部电影，人物，台词，情节被很多人解读剖析。<br>然而第一遍观看未能有过多感触。</li></ul><h3 id="8-杀人回忆"><a href="#8-杀人回忆" class="headerlink" title="8. 杀人回忆"></a>8. 杀人回忆</h3><p><img src="/img/%E6%9D%80%E4%BA%BA%E5%9B%9E%E5%BF%86.jpg" alt="杀人回忆"></p><ul><li>评分：8<br>改编自韩国真实事件，现实中的犯罪嫌疑人仍未被抓获。</li></ul><h3 id="9-绿皮书"><a href="#9-绿皮书" class="headerlink" title="9. 绿皮书"></a>9. 绿皮书</h3><p><img src="/img/%E7%BB%BF%E7%9A%AE%E4%B9%A6.jpg" alt="绿皮书"></p><ul><li>评分：8.6<br>大学第一个五一假期看的。当时因为疫情封校，一字班的同学只能在学校度过长达五天的假期，未央-能动两个班组织了一系列活动，其中就包括了我作为文艺委员牵头组织的观影活动。<br>与平时观影感受不同，当自己作为放映者，看着大家沉浸在喜欢的影片中，也能感受到一种成就与满足。<br>那年五一夜晚紫荆操场坐满了人，大家在难得的放松时光宣泄着被压抑的情绪……<div style="text-align:center;"><img src="/img/集体观影.jpg" width="50%" height="50%"><img src="/img/五一.jpg" width="50%" height="50%"></div></li></ul><h3 id="10-风声"><a href="#10-风声" class="headerlink" title="10. 风声"></a>10. 风声</h3><p><img src="/img/%E9%A3%8E%E5%A3%B0.jpg" alt="风声"></p><ul><li>评分：9.6<br>一个人在西馆的319单间看完了这部电影，目前位置看过最出彩的谍战片。<br>风声之后，世间再无传奇。</li></ul><h3 id="11-头文字D"><a href="#11-头文字D" class="headerlink" title="11. 头文字D"></a>11. 头文字D</h3><p><img src="/img/%E5%A4%B4%E6%96%87%E5%AD%97D.jpg" alt="头文字D"></p><ul><li>评分：8.3<blockquote><p>我加速超越，却甩不掉紧紧跟随的伤悲<br>细数惭愧，我伤你几回<br>停止狼狈，就让错纯粹</p></blockquote></li></ul>]]></content>
    
    
    <categories>
      
      <category>电影</category>
      
    </categories>
    
    
    <tags>
      
      <tag>电影</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>raytracing_the-next-week</title>
    <link href="/2023/08/31/raytracing-the-next-week/"/>
    <url>/2023/08/31/raytracing-the-next-week/</url>
    
    <content type="html"><![CDATA[<h1 id="raytracing-the-next-week"><a href="#raytracing-the-next-week" class="headerlink" title="raytracing the next week"></a>raytracing the next week</h1><span id="more"></span><h2 id="1-Overview"><a href="#1-Overview" class="headerlink" title="1. Overview"></a>1. Overview</h2><ul><li>add support for textures, volumes, rectangles, instances, lights, and for lots of objects using a BVH</li></ul><h2 id="2-Motion-Blur"><a href="#2-Motion-Blur" class="headerlink" title="2. Motion Blur"></a>2. Motion Blur</h2><h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><p>对于一个真实的相机，快门会保持打开一段时间，这段时间内，相机和世界中的物体可能会发生运动。</p><h3 id="2-1-Introduction-of-SpaceTime-Ray-Tracing"><a href="#2-1-Introduction-of-SpaceTime-Ray-Tracing" class="headerlink" title="2.1 Introduction of SpaceTime Ray Tracing"></a>2.1 Introduction of SpaceTime Ray Tracing</h3><p>在相机快门打开的某一随机时刻，可以发出一条光线得到一个随机估计。只要我们可以确定在那个时刻物体的位置，我们就可以得到对于这条射线light的准确测量。<br>为了实现这个效果，我们需要存储每个ray的准确时间。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ray</span> &#123;<br>  <span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">ray</span>() &#123;&#125;<br><br>    <span class="hljs-built_in">ray</span>(<span class="hljs-type">const</span> point3&amp; origin, <span class="hljs-type">const</span> vec3&amp; direction) : <span class="hljs-built_in">orig</span>(origin), <span class="hljs-built_in">dir</span>(direction), <span class="hljs-built_in">tm</span>(<span class="hljs-number">0</span>) &#123;&#125; <br><br>    <span class="hljs-built_in">ray</span>(<span class="hljs-type">const</span> point3&amp; origin, <span class="hljs-type">const</span> vec3&amp; direction, <span class="hljs-type">double</span> time) : <span class="hljs-built_in">orig</span>(origin), <span class="hljs-built_in">dir</span>(direction), <span class="hljs-built_in">tm</span>(time) &#123;&#125;<br><br>    <span class="hljs-function">point3 <span class="hljs-title">origin</span><span class="hljs-params">()</span> <span class="hljs-type">const</span>  </span>&#123; <span class="hljs-keyword">return</span> orig; &#125;<br>    <span class="hljs-function">vec3 <span class="hljs-title">direction</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> dir; &#125;<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">time</span><span class="hljs-params">()</span> <span class="hljs-type">const</span>    </span>&#123; <span class="hljs-keyword">return</span> tm; &#125;<br><br>    <span class="hljs-function">point3 <span class="hljs-title">at</span><span class="hljs-params">(<span class="hljs-type">double</span> t)</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> orig + t*dir;<br>    &#125;<br><br>  <span class="hljs-keyword">private</span>:<br>    point3 orig;<br>    vec3 dir;<br>    <span class="hljs-type">double</span> tm;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="2-2-Managing-Time"><a href="#2-2-Managing-Time" class="headerlink" title="2.2 Managing Time"></a>2.2 Managing Time</h3><p>目前只考虑渲染一帧图片，假设start at time&#x3D;0, end at time&#x3D;1。<br>任务有：</p><ol><li>调整相机使其能在time[0,1]之间随机时刻发出ray</li><li>创建一个可以移动的球体类</li></ol><h3 id="2-3-Updating-the-Camera-to-Simulate-Motion-Blur"><a href="#2-3-Updating-the-Camera-to-Simulate-Motion-Blur" class="headerlink" title="2.3 Updating the Camera to Simulate Motion Blur"></a>2.3 Updating the Camera to Simulate Motion Blur</h3><blockquote><p>make constructors complicated if it makes calls simple</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function">ray <span class="hljs-title">get_ray</span><span class="hljs-params">(<span class="hljs-type">int</span> i, <span class="hljs-type">int</span> j)</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// Get a randomly sampled camera ray for the pixel at location i,j.</span><br>    <span class="hljs-keyword">auto</span> pixel_center = pixel00_loc + (i * pixel_delta_u) + (j * pixel_delta_v);<br>    <span class="hljs-keyword">auto</span> pixel_sample = pixel_center + <span class="hljs-built_in">pixel_sample_square</span>();<br><br>    <span class="hljs-keyword">auto</span> ray_origin = (defocus_angle &lt;= <span class="hljs-number">0</span>) ? center : <span class="hljs-built_in">defocus_disk_sample</span>();<br>    <span class="hljs-keyword">auto</span> ray_direction = pixel_sample - ray_origin;<br>    <br>    <span class="hljs-keyword">auto</span> ray_time = <span class="hljs-built_in">random_double</span>();<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">ray</span>(ray_origin, ray_direction, ray_time);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-4-Adding-Moving-Spheres"><a href="#2-4-Adding-Moving-Spheres" class="headerlink" title="2.4 Adding Moving Spheres"></a>2.4 Adding Moving Spheres</h3><p>对于可运动的球，t&#x3D;0时球心位于center1，t&#x3D;1时球心位于center2</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">sphere</span> : <span class="hljs-keyword">public</span> hittable<br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">//stationary</span><br>    <span class="hljs-built_in">sphere</span>(point3 _center, <span class="hljs-type">double</span> _radius, shared_ptr&lt;material&gt; _mat)<br>        : <span class="hljs-built_in">center1</span>(_center), <span class="hljs-built_in">radius</span>(_radius), <span class="hljs-built_in">mat</span>(_mat), <span class="hljs-built_in">is_moving</span>(<span class="hljs-literal">false</span>) &#123;&#125;<br><br>    <span class="hljs-comment">//moving</span><br>    <span class="hljs-built_in">sphere</span>(point3 _center1, point3 _center2, <span class="hljs-type">double</span> _radius, shared_ptr&lt;material&gt; _mat)<br>        : <span class="hljs-built_in">center1</span>(_center1), <span class="hljs-built_in">radius</span>(_radius), <span class="hljs-built_in">mat</span>(_mat), <span class="hljs-built_in">is_moving</span>(<span class="hljs-literal">true</span>)<br>        &#123;<br>            center_vec = _center2 - _center1;<br>        &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">hit</span><span class="hljs-params">(<span class="hljs-type">const</span> ray &amp;r, interval <span class="hljs-type">ray_t</span>, hit_record &amp;rec)</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span></span><br><span class="hljs-function">    </span>&#123;<br>        vec3 oc = r.<span class="hljs-built_in">origin</span>() - center1;<br>        <span class="hljs-keyword">auto</span> a = r.<span class="hljs-built_in">direction</span>().<span class="hljs-built_in">length_squared</span>();<br>        <span class="hljs-keyword">auto</span> half_b = <span class="hljs-built_in">dot</span>(oc, r.<span class="hljs-built_in">direction</span>());<br>        <span class="hljs-keyword">auto</span> c = oc.<span class="hljs-built_in">length_squared</span>() - radius * radius;<br><br>        <span class="hljs-keyword">auto</span> discriminant = half_b * half_b - a * c;<br>        <span class="hljs-keyword">if</span> (discriminant &lt; <span class="hljs-number">0</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">auto</span> sqrtd = <span class="hljs-built_in">sqrt</span>(discriminant);<br><br>        <span class="hljs-comment">// Find the nearest root that lies in the acceptable range.</span><br>        <span class="hljs-keyword">auto</span> root = (-half_b - sqrtd) / a;<br>        <span class="hljs-keyword">if</span>(!<span class="hljs-type">ray_t</span>.<span class="hljs-built_in">surrounds</span>(root))<br>        &#123;<br>            root = (-half_b + sqrtd) / a;<br>            <span class="hljs-keyword">if</span>(!<span class="hljs-type">ray_t</span>.<span class="hljs-built_in">surrounds</span>(root))<br>            &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>        &#125;<br><br>        rec.t = root;<br>        rec.p = r.<span class="hljs-built_in">at</span>(rec.t);<br>        vec3 outward_normal = (rec.p - center1) / radius;<br>        rec.<span class="hljs-built_in">set_face_normal</span>(r, outward_normal);<br>        rec.mat = mat;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br><br><span class="hljs-keyword">private</span>:<br>    point3 center1;<br>    <span class="hljs-type">double</span> radius;<br>    shared_ptr&lt;material&gt; mat;<br><br>    <span class="hljs-type">bool</span> is_moving;<br>    vec3 center_vec;<br><br>    <span class="hljs-function">point3 <span class="hljs-title">center</span><span class="hljs-params">(<span class="hljs-type">double</span> time)</span> <span class="hljs-type">const</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">return</span> center1 + time * center_vec;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>在判断是否击中球体时，需要考虑球体的运动轨迹，即球心的位置。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">hit</span><span class="hljs-params">(<span class="hljs-type">const</span> ray &amp;r, interval <span class="hljs-type">ray_t</span>, hit_record &amp;rec)</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span></span><br><span class="hljs-function"></span>&#123;<br>    point3 center = is_moving? <span class="hljs-built_in">sphere_center</span>(r.<span class="hljs-built_in">time</span>()) : center1;<br>    vec3 oc = r.<span class="hljs-built_in">origin</span>() - center;<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-5-Tracking-the-Time-of-Ray-Intersection"><a href="#2-5-Tracking-the-Time-of-Ray-Intersection" class="headerlink" title="2.5 Tracking the Time of Ray Intersection"></a>2.5 Tracking the Time of Ray Intersection</h3><p>在计算散射ray时考虑时间属性</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">lambertian</span> : <span class="hljs-keyword">public</span> material &#123;<br>    ...<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">scatter</span><span class="hljs-params">(<span class="hljs-type">const</span> ray&amp; r_in, <span class="hljs-type">const</span> hit_record&amp; rec, color&amp; attenuation, ray&amp; scattered)</span></span><br><span class="hljs-function">    <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>&#123;<br>        <span class="hljs-keyword">auto</span> scatter_direction = rec.normal + <span class="hljs-built_in">random_unit_vector</span>();<br><br>        <span class="hljs-comment">// Catch degenerate scatter direction</span><br>        <span class="hljs-keyword">if</span> (scatter_direction.<span class="hljs-built_in">near_zero</span>())<br>            scatter_direction = rec.normal;<br><br>        scattered = <span class="hljs-built_in">ray</span>(rec.p, scatter_direction, r_in.<span class="hljs-built_in">time</span>());<br>        attenuation = albedo;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    ...<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">metal</span> : <span class="hljs-keyword">public</span> material &#123;<br>    ...<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">scatter</span><span class="hljs-params">(<span class="hljs-type">const</span> ray&amp; r_in, <span class="hljs-type">const</span> hit_record&amp; rec, color&amp; attenuation, ray&amp; scattered)</span></span><br><span class="hljs-function">    <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>&#123;<br>        vec3 reflected = <span class="hljs-built_in">reflect</span>(<span class="hljs-built_in">unit_vector</span>(r_in.<span class="hljs-built_in">direction</span>()), rec.normal);<br>        scattered = <span class="hljs-built_in">ray</span>(rec.p, reflected + fuzz*<span class="hljs-built_in">random_in_unit_sphere</span>(), r_in.<span class="hljs-built_in">time</span>());<br>        attenuation = albedo;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-built_in">dot</span>(scattered.<span class="hljs-built_in">direction</span>(), rec.normal) &gt; <span class="hljs-number">0</span>);<br>    &#125;<br>    ...<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">dielectric</span> : <span class="hljs-keyword">public</span> material &#123;<br>    ...<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">scatter</span><span class="hljs-params">(<span class="hljs-type">const</span> ray&amp; r_in, <span class="hljs-type">const</span> hit_record&amp; rec, color&amp; attenuation, ray&amp; scattered)</span></span><br><span class="hljs-function">    <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>&#123;<br>        ...<br>        scattered = <span class="hljs-built_in">ray</span>(rec.p, direction, r_in.<span class="hljs-built_in">time</span>());<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    ...<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="2-6-Putting-Everything-Together"><a href="#2-6-Putting-Everything-Together" class="headerlink" title="2.6 Putting Everything Together"></a>2.6 Putting Everything Together</h3><p>给场景中的部分球体加入运动属性<br>效果图如下：<br><img src="/img/motion_blur.png" alt="motion_blur"></p><h2 id="3-Bounding-Volume-Hierarchies"><a href="#3-Bounding-Volume-Hierarchies" class="headerlink" title="3. Bounding Volume Hierarchies"></a>3. Bounding Volume Hierarchies</h2><h3 id="Introduction-1"><a href="#Introduction-1" class="headerlink" title="Introduction"></a>Introduction</h3><p>ray-object的求交是一个ray tracer最主要的时间瓶颈，我们可以按照二分查找的思想把这个过程变成对数时间的search。<br>我们可以对求交模型做一个模拟的sorting，这样每次求交可以变成一个sublinear的search。<br>常见的sorting方法有两种：1.分割空间 2.分割物体，后者在实现上更简单并且对于大多数模型来说速度一样快。</p><h3 id="3-1-The-Key-Idea"><a href="#3-1-The-Key-Idea" class="headerlink" title="3.1 The Key Idea"></a>3.1 The Key Idea</h3><p>包围盒的key idea是找到一个包围所有objects的volumes。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">if</span> ray hit bounding object：<br>    <span class="hljs-keyword">return</span> 是否hit包围住的物体<br><span class="hljs-keyword">else</span>：<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p>a key thing是我们可以把物体分为子集。<br>任何物体都只在一个包围盒中，但包围盒之间可以重叠。</p><h3 id="3-2-Hierarchies-of-Bounding-Volumes"><a href="#3-2-Hierarchies-of-Bounding-Volumes" class="headerlink" title="3.2 Hierarchies of Bounding Volumes"></a>3.2 Hierarchies of Bounding Volumes</h3><p><img src="/img/hierarchy.jpg" alt="hierarchy"><br>内部包围盒之间没有顺序，可能重叠</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">if</span> (hits purple)<br>    hit0 = hits blue enclosed objects<br>    hit1 = hits red enclosed objects<br>    <span class="hljs-keyword">if</span> (hit0 <span class="hljs-keyword">or</span> hit1)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span> <span class="hljs-keyword">and</span> info of closer hit<br><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><h3 id="3-3-Axis-Aligned-Bounding-Boxes-AABBs"><a href="#3-3-Axis-Aligned-Bounding-Boxes-AABBs" class="headerlink" title="3.3 Axis-Aligned Bounding Boxes (AABBs)"></a>3.3 Axis-Aligned Bounding Boxes (AABBs)</h3><p>我们需要找到一种好的划分方式实践以上算法，axis-aligned bounding boxes(AABBs)是一种很好的选择。<br>$$\begin{align*}<br>    x_0 &#x3D; A_x + t_0b_x \newline<br>    t_0 &#x3D; \frac{x_0 - A_x}{b_x} \newline<br>    t_1 &#x3D; \frac{x_1 - A_x}{b_x}<br>\end{align*}$$<br><img src="/img/aabb.jpg" alt="aabb"><br>将上式转换为hit监测：如果hit则两个1D的t区间有交集。</p><h3 id="3-4-Ray-Intersection-with-an-AABB"><a href="#3-4-Ray-Intersection-with-an-AABB" class="headerlink" title="3.4 Ray Intersection with an AABB"></a>3.4 Ray Intersection with an AABB</h3><p>若使用IEEE浮点数，0有正负号。当$b_x&#x3D;0$时，若$A$不在$x_0,x_1$之间，则$t_{x0}, t_{x1}$将同时为$+\infty$或$-\infty$。<br>所以可以使用min和max得到正确的解<br>$$\begin{align*}<br>    t_{x0} &#x3D; min(\frac{x_0 - A_x}{b_x}, \frac{x_1 - A_x}{b_x})\newline<br>    t_{x1} &#x3D; max(\frac{x_0 - A_x}{b_x}, \frac{x_1 - A_x}{b_x})<br>\end{align*}$$<br>在实现overlap函数时，如果有NaNs会报错，因此我们需要给包围盒加一点padding。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">interval</span> &#123;<br>  <span class="hljs-keyword">public</span>:<br>    ...<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">size</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> max - min;<br>    &#125;<br><br>    <span class="hljs-function">interval <span class="hljs-title">expand</span><span class="hljs-params">(<span class="hljs-type">double</span> delta)</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">auto</span> padding = delta/<span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">interval</span>(min - padding, max + padding);<br>    &#125;<br>    ...<br>&#125;;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> AABB_H</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> AABB_H</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;rtweekend.h&quot;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">aabb</span> &#123;<br>  <span class="hljs-keyword">public</span>:<br>    interval x, y, z;<br><br>    <span class="hljs-built_in">aabb</span>() &#123;&#125; <span class="hljs-comment">// The default AABB is empty, since intervals are empty by default.</span><br><br>    <span class="hljs-built_in">aabb</span>(<span class="hljs-type">const</span> interval&amp; ix, <span class="hljs-type">const</span> interval&amp; iy, <span class="hljs-type">const</span> interval&amp; iz)<br>      : <span class="hljs-built_in">x</span>(ix), <span class="hljs-built_in">y</span>(iy), <span class="hljs-built_in">z</span>(iz) &#123; &#125;<br><br>    <span class="hljs-built_in">aabb</span>(<span class="hljs-type">const</span> point3&amp; a, <span class="hljs-type">const</span> point3&amp; b) &#123;<br>        <span class="hljs-comment">// Treat the two points a and b as extrema for the bounding box, so we don&#x27;t require a</span><br>        <span class="hljs-comment">// particular minimum/maximum coordinate order.</span><br>        x = <span class="hljs-built_in">interval</span>(<span class="hljs-built_in">fmin</span>(a[<span class="hljs-number">0</span>],b[<span class="hljs-number">0</span>]), <span class="hljs-built_in">fmax</span>(a[<span class="hljs-number">0</span>],b[<span class="hljs-number">0</span>]));<br>        y = <span class="hljs-built_in">interval</span>(<span class="hljs-built_in">fmin</span>(a[<span class="hljs-number">1</span>],b[<span class="hljs-number">1</span>]), <span class="hljs-built_in">fmax</span>(a[<span class="hljs-number">1</span>],b[<span class="hljs-number">1</span>]));<br>        z = <span class="hljs-built_in">interval</span>(<span class="hljs-built_in">fmin</span>(a[<span class="hljs-number">2</span>],b[<span class="hljs-number">2</span>]), <span class="hljs-built_in">fmax</span>(a[<span class="hljs-number">2</span>],b[<span class="hljs-number">2</span>]));<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">const</span> interval&amp; <span class="hljs-title">axis</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> y;<br>        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> z;<br>        <span class="hljs-keyword">return</span> x;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">hit</span><span class="hljs-params">(<span class="hljs-type">const</span> ray&amp; r, interval <span class="hljs-type">ray_t</span>)</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> a = <span class="hljs-number">0</span>; a &lt; <span class="hljs-number">3</span>; a++) &#123;<br>            <span class="hljs-keyword">auto</span> t0 = <span class="hljs-built_in">fmin</span>((<span class="hljs-built_in">axis</span>(a).min - r.<span class="hljs-built_in">origin</span>()[a]) / r.<span class="hljs-built_in">direction</span>()[a],<br>                           (<span class="hljs-built_in">axis</span>(a).max - r.<span class="hljs-built_in">origin</span>()[a]) / r.<span class="hljs-built_in">direction</span>()[a]);<br>            <span class="hljs-keyword">auto</span> t1 = <span class="hljs-built_in">fmax</span>((<span class="hljs-built_in">axis</span>(a).min - r.<span class="hljs-built_in">origin</span>()[a]) / r.<span class="hljs-built_in">direction</span>()[a],<br>                           (<span class="hljs-built_in">axis</span>(a).max - r.<span class="hljs-built_in">origin</span>()[a]) / r.<span class="hljs-built_in">direction</span>()[a]);<br>            <span class="hljs-type">ray_t</span>.min = <span class="hljs-built_in">fmax</span>(t0, <span class="hljs-type">ray_t</span>.min);<br>            <span class="hljs-type">ray_t</span>.max = <span class="hljs-built_in">fmin</span>(t1, <span class="hljs-type">ray_t</span>.max);<br>            <span class="hljs-keyword">if</span> (<span class="hljs-type">ray_t</span>.max &lt;= <span class="hljs-type">ray_t</span>.min)<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure><h3 id="3-5-An-Optimized-AABB-Hit-Method"><a href="#3-5-An-Optimized-AABB-Hit-Method" class="headerlink" title="3.5 An Optimized AABB Hit Method"></a>3.5 An Optimized AABB Hit Method</h3><p>Andrew Kensler做了很多实验发现下面这个版本的代码在某些编译器上性能极好。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">aabb</span> &#123;<br>  <span class="hljs-keyword">public</span>:<br>    ...<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">hit</span><span class="hljs-params">(<span class="hljs-type">const</span> ray&amp; r, interval <span class="hljs-type">ray_t</span>)</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> a = <span class="hljs-number">0</span>; a &lt; <span class="hljs-number">3</span>; a++) &#123;<br>            <span class="hljs-keyword">auto</span> invD = <span class="hljs-number">1</span> / r.<span class="hljs-built_in">direction</span>()[a];<br>            <span class="hljs-keyword">auto</span> orig = r.<span class="hljs-built_in">origin</span>()[a];<br><br>            <span class="hljs-keyword">auto</span> t0 = (<span class="hljs-built_in">axis</span>(a).min - orig) * invD;<br>            <span class="hljs-keyword">auto</span> t1 = (<span class="hljs-built_in">axis</span>(a).max - orig) * invD;<br><br>            <span class="hljs-keyword">if</span> (invD &lt; <span class="hljs-number">0</span>)<br>                std::<span class="hljs-built_in">swap</span>(t0, t1);<br><br>            <span class="hljs-keyword">if</span> (t0 &gt; <span class="hljs-type">ray_t</span>.min) <span class="hljs-type">ray_t</span>.min = t0;<br>            <span class="hljs-keyword">if</span> (t1 &lt; <span class="hljs-type">ray_t</span>.max) <span class="hljs-type">ray_t</span>.max = t1;<br><br>            <span class="hljs-keyword">if</span> (<span class="hljs-type">ray_t</span>.max &lt;= <span class="hljs-type">ray_t</span>.min)<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    ...<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="3-6-Constructing-Bounding-Boxes-for-Hittables"><a href="#3-6-Constructing-Bounding-Boxes-for-Hittables" class="headerlink" title="3.6 Constructing Bounding Boxes for Hittables"></a>3.6 Constructing Bounding Boxes for Hittables</h3><p>为objects添加包围盒</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;aabb.h&quot;</span></span><br>...<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">hittable</span> &#123;<br>  <span class="hljs-keyword">public</span>:<br>    ...<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">bool</span> <span class="hljs-title">hit</span><span class="hljs-params">(<span class="hljs-type">const</span> ray&amp; r, interval <span class="hljs-type">ray_t</span>, hit_record&amp; rec)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> aabb <span class="hljs-title">bounding_box</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>    ...<br>&#125;;<br></code></pre></td></tr></table></figure><p>对于静止球体，可以直接根据center和radius计算；对于运动球体，可以根据radius和center1，center2分别计算两个包围盒，再求这两个包围盒的并集。</p><h3 id="3-7-Creating-Bounding-Boxes-of-Lists-of-Objects"><a href="#3-7-Creating-Bounding-Boxes-of-Lists-of-Objects" class="headerlink" title="3.7 Creating Bounding Boxes of Lists of Objects"></a>3.7 Creating Bounding Boxes of Lists of Objects</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++">...<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;aabb.h&quot;</span></span><br>...<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">hittable_list</span> : <span class="hljs-keyword">public</span> hittable &#123;<br>  <span class="hljs-keyword">public</span>:<br>    std::vector&lt;shared_ptr&lt;hittable&gt;&gt; objects;<br><br>    ...<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">add</span><span class="hljs-params">(shared_ptr&lt;hittable&gt; object)</span> </span>&#123;<br>        objects.<span class="hljs-built_in">push_back</span>(object);<br>        bbox = <span class="hljs-built_in">aabb</span>(bbox, object-&gt;<span class="hljs-built_in">bounding_box</span>());<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">hit</span><span class="hljs-params">(<span class="hljs-type">const</span> ray&amp; r, <span class="hljs-type">double</span> ray_tmin, <span class="hljs-type">double</span> ray_tmax, hit_record&amp; rec)</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>&#123;<br>        ...<br>    &#125;<br><br>    <span class="hljs-function">aabb <span class="hljs-title">bounding_box</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>&#123; <span class="hljs-keyword">return</span> bbox; &#125;<br><br>  <span class="hljs-keyword">private</span>:<br>    aabb bbox;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="3-8-The-BVH-Node-Class"><a href="#3-8-The-BVH-Node-Class" class="headerlink" title="3.8 The BVH Node Class"></a>3.8 The BVH Node Class</h3><p>A BVH是一个容器，like lists of hittables，可以respond to “whether hit” query<br>一种设计思路是划分两个类，分别为node和tree；一种是将root视为node，每次对node的包围盒进行hit判断，如果hit则对node的两个子节点进行hit判断。本书采用后者实现思路。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> BVH_H</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> BVH_H</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;rtweekend.h&quot;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;hittable.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;hittable_list.h&quot;</span></span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">bvh_node</span> : <span class="hljs-keyword">public</span> hittable &#123;<br>  <span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">bvh_node</span>(<span class="hljs-type">const</span> hittable_list&amp; list) : <span class="hljs-built_in">bvh_node</span>(list.objects, <span class="hljs-number">0</span>, list.objects.<span class="hljs-built_in">size</span>()) &#123;&#125;<br><br>    <span class="hljs-built_in">bvh_node</span>(<span class="hljs-type">const</span> std::vector&lt;shared_ptr&lt;hittable&gt;&gt;&amp; src_objects, <span class="hljs-type">size_t</span> start, <span class="hljs-type">size_t</span> end) &#123;<br>        <span class="hljs-comment">// To be implemented later.</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">hit</span><span class="hljs-params">(<span class="hljs-type">const</span> ray&amp; r, interval <span class="hljs-type">ray_t</span>, hit_record&amp; rec)</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (!box.<span class="hljs-built_in">hit</span>(r, <span class="hljs-type">ray_t</span>))<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><br>        <span class="hljs-type">bool</span> hit_left = left-&gt;<span class="hljs-built_in">hit</span>(r, <span class="hljs-type">ray_t</span>, rec);<br>        <span class="hljs-type">bool</span> hit_right = right-&gt;<span class="hljs-built_in">hit</span>(r, <span class="hljs-built_in">interval</span>(<span class="hljs-type">ray_t</span>.min, hit_left ? rec.t : <span class="hljs-type">ray_t</span>.max), rec);<br><br>        <span class="hljs-keyword">return</span> hit_left || hit_right;<br>    &#125;<br><br>    <span class="hljs-function">aabb <span class="hljs-title">bounding_box</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>&#123; <span class="hljs-keyword">return</span> bbox; &#125;<br><br>  <span class="hljs-keyword">private</span>:<br>    shared_ptr&lt;hittable&gt; left;<br>    shared_ptr&lt;hittable&gt; right;<br>    aabb bbox;<br>&#125;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure><h3 id="3-9-Splitting-BVH-Volumes"><a href="#3-9-Splitting-BVH-Volumes" class="headerlink" title="3.9 Splitting BVH Volumes"></a>3.9 Splitting BVH Volumes</h3><blockquote><p>The most complicated part of any efficiency structure, including the BVH, is building it.The most complicated part of any efficiency structure, including the BVH, is building it.</p></blockquote><p>build一个BVH的过程如下：</p><ol><li>randomly choose an axis</li><li>sort the primitives (using std::sort)</li><li>put half in each subtree<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">bvh_node</span> : <span class="hljs-keyword">public</span> hittable &#123;<br>  <span class="hljs-keyword">public</span>:<br>    ...<br>    <span class="hljs-built_in">bvh_node</span>(<span class="hljs-type">const</span> std::vector&lt;shared_ptr&lt;hittable&gt;&gt;&amp; src_objects, <span class="hljs-type">size_t</span> start, <span class="hljs-type">size_t</span> end) &#123;<br>        <span class="hljs-keyword">auto</span> objects = src_objects; <span class="hljs-comment">// Create a modifiable array of the source scene objects</span><br><br>        <span class="hljs-type">int</span> axis = <span class="hljs-built_in">random_int</span>(<span class="hljs-number">0</span>,<span class="hljs-number">2</span>);<br>        <span class="hljs-keyword">auto</span> comparator = (axis == <span class="hljs-number">0</span>) ? box_x_compare<br>                        : (axis == <span class="hljs-number">1</span>) ? box_y_compare<br>                                      : box_z_compare;<br><br>        <span class="hljs-type">size_t</span> object_span = end - start;<br><br>        <span class="hljs-keyword">if</span> (object_span == <span class="hljs-number">1</span>) &#123;<br>            left = right = objects[start];<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (object_span == <span class="hljs-number">2</span>) &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">comparator</span>(objects[start], objects[start+<span class="hljs-number">1</span>])) &#123;<br>                left = objects[start];<br>                right = objects[start+<span class="hljs-number">1</span>];<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                left = objects[start+<span class="hljs-number">1</span>];<br>                right = objects[start];<br>            &#125;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            std::<span class="hljs-built_in">sort</span>(objects.<span class="hljs-built_in">begin</span>() + start, objects.<span class="hljs-built_in">begin</span>() + end, comparator);<br><br>            <span class="hljs-keyword">auto</span> mid = start + object_span/<span class="hljs-number">2</span>;<br>            left = <span class="hljs-built_in">make_shared</span>&lt;bvh_node&gt;(objects, start, mid);<br>            right = <span class="hljs-built_in">make_shared</span>&lt;bvh_node&gt;(objects, mid, end);<br>        &#125;<br><br>        bbox = <span class="hljs-built_in">aabb</span>(left-&gt;<span class="hljs-built_in">bounding_box</span>(), right-&gt;<span class="hljs-built_in">bounding_box</span>());<br>    &#125;<br>    ...<br>&#125;;<br></code></pre></td></tr></table></figure>当objects中有无限大平面时需要检查是否有包围盒，因为无限大平面无包围盒。</li></ol><h3 id="3-10-The-Box-Comparison-Functions"><a href="#3-10-The-Box-Comparison-Functions" class="headerlink" title="3.10 The Box Comparison Functions"></a>3.10 The Box Comparison Functions</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">bvh_node</span> : <span class="hljs-keyword">public</span> hittable &#123;<br>  ...<br>  <span class="hljs-keyword">private</span>:<br>    ...<br><br>    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">bool</span> <span class="hljs-title">box_compare</span><span class="hljs-params">(</span></span><br><span class="hljs-params"><span class="hljs-function">        <span class="hljs-type">const</span> shared_ptr&lt;hittable&gt; a, <span class="hljs-type">const</span> shared_ptr&lt;hittable&gt; b, <span class="hljs-type">int</span> axis_index</span></span><br><span class="hljs-params"><span class="hljs-function">    )</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> a-&gt;<span class="hljs-built_in">bounding_box</span>().<span class="hljs-built_in">axis</span>(axis_index).min &lt; b-&gt;<span class="hljs-built_in">bounding_box</span>().<span class="hljs-built_in">axis</span>(axis_index).min;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">bool</span> <span class="hljs-title">box_x_compare</span> <span class="hljs-params">(<span class="hljs-type">const</span> shared_ptr&lt;hittable&gt; a, <span class="hljs-type">const</span> shared_ptr&lt;hittable&gt; b)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">box_compare</span>(a, b, <span class="hljs-number">0</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">bool</span> <span class="hljs-title">box_y_compare</span> <span class="hljs-params">(<span class="hljs-type">const</span> shared_ptr&lt;hittable&gt; a, <span class="hljs-type">const</span> shared_ptr&lt;hittable&gt; b)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">box_compare</span>(a, b, <span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">bool</span> <span class="hljs-title">box_z_compare</span> <span class="hljs-params">(<span class="hljs-type">const</span> shared_ptr&lt;hittable&gt; a, <span class="hljs-type">const</span> shared_ptr&lt;hittable&gt; b)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">box_compare</span>(a, b, <span class="hljs-number">2</span>);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>经测试，渲染下图无包围盒层次结构所用时间为67.4132s，有包围盒层次结构所用时间为17.7801s。<br><img src="/img/motion_blur.png" alt="image"></p><h2 id="4-Texture-Mapping"><a href="#4-Texture-Mapping" class="headerlink" title="4.Texture Mapping"></a>4.Texture Mapping</h2><h3 id="Introduction-2"><a href="#Introduction-2" class="headerlink" title="Introduction"></a>Introduction</h3><ul><li>texture: the effect(color, shininess, bump geometry, …)</li><li>mapping: mapping one space onto another in the mathematical sense</li></ul><h3 id="4-1-Constant-Color-Texture"><a href="#4-1-Constant-Color-Texture" class="headerlink" title="4.1 Constant Color Texture"></a>4.1 Constant Color Texture</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> TEXTURE_H</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> TEXTURE_H</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;rtweekend.h&quot;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">texture</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">texture</span>() = <span class="hljs-keyword">default</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> color <span class="hljs-title">value</span><span class="hljs-params">(<span class="hljs-type">double</span> u, <span class="hljs-type">double</span> v, <span class="hljs-type">const</span> point3 &amp;p)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">solid_color</span> : <span class="hljs-keyword">public</span> texture<br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">solid_color</span>(color c) : <span class="hljs-built_in">color_value</span>(c) &#123;&#125;<br><br>    <span class="hljs-built_in">solid_color</span>(<span class="hljs-type">double</span> red, <span class="hljs-type">double</span> green, <span class="hljs-type">double</span> blue) : <span class="hljs-built_in">solid_color</span>(<span class="hljs-built_in">color</span>(red, green, blue)) &#123;&#125;<br><br>    <span class="hljs-function">color <span class="hljs-title">value</span><span class="hljs-params">(<span class="hljs-type">double</span> u, <span class="hljs-type">double</span> v, <span class="hljs-type">const</span> point3 &amp;p)</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">return</span> color_value;<br>    &#125;<br><br><span class="hljs-keyword">private</span>:<br>    color color_value;<br>&#125;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure><p>同时在hittable类中增加double变量u,v</p><h3 id="4-2-Solid-Textures-A-Checker-Texture"><a href="#4-2-Solid-Textures-A-Checker-Texture" class="headerlink" title="4.2 Solid Textures: A Checker Texture"></a>4.2 Solid Textures: A Checker Texture</h3><p>solid texture仅取决于3D空间中每个点的位置，它给空间中所有点上色，而不是特定的物体。<br>the texture value忽略u,v，只取决于p。<br>对于给定的点，我们可以通过floor函数得到$x, y, z$的整数部分，然后求和模2判断奇偶性。<br>同时可以增加一个scale参数，使得方格纹理的大小可以调整。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">checker_texture</span> : <span class="hljs-keyword">public</span> texture &#123;<br>  <span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">checker_texture</span>(<span class="hljs-type">double</span> _scale, shared_ptr&lt;texture&gt; _even, shared_ptr&lt;texture&gt; _odd)<br>      : <span class="hljs-built_in">inv_scale</span>(<span class="hljs-number">1.0</span> / _scale), <span class="hljs-built_in">even</span>(_even), <span class="hljs-built_in">odd</span>(_odd) &#123;&#125;<br><br>    <span class="hljs-built_in">checker_texture</span>(<span class="hljs-type">double</span> _scale, color c1, color c2)<br>      : <span class="hljs-built_in">inv_scale</span>(<span class="hljs-number">1.0</span> / _scale),<br>        <span class="hljs-built_in">even</span>(<span class="hljs-built_in">make_shared</span>&lt;solid_color&gt;(c1)),<br>        <span class="hljs-built_in">odd</span>(<span class="hljs-built_in">make_shared</span>&lt;solid_color&gt;(c2))<br>    &#123;&#125;<br><br>    <span class="hljs-function">color <span class="hljs-title">value</span><span class="hljs-params">(<span class="hljs-type">double</span> u, <span class="hljs-type">double</span> v, <span class="hljs-type">const</span> point3&amp; p)</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>&#123;<br>        <span class="hljs-keyword">auto</span> xInteger = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(std::<span class="hljs-built_in">floor</span>(inv_scale * p.<span class="hljs-built_in">x</span>()));<br>        <span class="hljs-keyword">auto</span> yInteger = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(std::<span class="hljs-built_in">floor</span>(inv_scale * p.<span class="hljs-built_in">y</span>()));<br>        <span class="hljs-keyword">auto</span> zInteger = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(std::<span class="hljs-built_in">floor</span>(inv_scale * p.<span class="hljs-built_in">z</span>()));<br><br>        <span class="hljs-type">bool</span> isEven = (xInteger + yInteger + zInteger) % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">return</span> isEven ? even-&gt;<span class="hljs-built_in">value</span>(u, v, p) : odd-&gt;<span class="hljs-built_in">value</span>(u, v, p);<br>    &#125;<br><br>  <span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">double</span> inv_scale;<br>    shared_ptr&lt;texture&gt; even;<br>    shared_ptr&lt;texture&gt; odd;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="4-3-Rendering-The-Solid-Checker-Texture"><a href="#4-3-Rendering-The-Solid-Checker-Texture" class="headerlink" title="4.3 Rendering The Solid Checker Texture"></a>4.3 Rendering The Solid Checker Texture</h3><p>项目需要支持渲染不同的场景，一个简单的方法是在main函数中用switch控制。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">switch</span> (<span class="hljs-number">2</span>)<br>    &#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<span class="hljs-built_in">random_spheres</span>();<span class="hljs-keyword">break</span>;<br>    <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<span class="hljs-built_in">two_spheres</span>();<span class="hljs-keyword">break</span>;<br>    <span class="hljs-keyword">default</span>:<span class="hljs-keyword">break</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>后续可以用别的方法，比如命令行参数等。<br>渲染得到的两个格子纹理球体图片如下：<br><img src="/img/checker.png" alt="image"><br>可以发现结果有点odd，因为checker_texture是一个空间纹理，我们观察到的是球体的表面在切割三维空间。</p><h3 id="4-4-Texture-Coordinates-for-Spheres"><a href="#4-4-Texture-Coordinates-for-Spheres" class="headerlink" title="4.4 Texture Coordinates for Spheres"></a>4.4 Texture Coordinates for Spheres</h3><p>首先计算球体坐标系下的$(\theta, \phi)$<br>$\theta$: up from -Y<br>$\phi$: from -X -&gt; +Z -&gt; +X -&gt; -Z -&gt; -X<br>然后根据$(\theta, \phi)$计算纹理坐标$(u, v)$<br>$$\begin{align*}<br>    u &#x3D; \frac{\phi}{2\pi} \newline<br>    v &#x3D; \frac{\theta}{\pi}<br>\end{align*}$$<br>转化为Cartesian坐标系：<br>$$\begin{align*}<br>    x &#x3D; -\sin(\theta)\cos(\phi) \newline<br>    y &#x3D; -\cos(\theta) \newline<br>    z &#x3D; \sin(\theta)\sin(\phi)<br>\end{align*}$$<br>使用atan2()函数可以得到：<br>$$\begin{align*}<br>    \phi &#x3D; \arctan2(z, -x)<br>\end{align*}$$<br>atan2()返回值顺序为：0-&gt;$\pi$，再-$\pi$-&gt;0<br>由于<br>$$\begin{align*}<br>    atan2(a, b) &#x3D; atan2(-a, -b) + \pi<br>\end{align*}$$<br>所以可以先做翻转再做加$\pi$操作。<br>$$\begin{align*}<br>    \phi &#x3D; \arctan2(-z, x) + \pi<br>\end{align*}$$<br>然后求解$\theta$：<br>$$\begin{align*}<br>    \theta &#x3D; \arccos(-y)<br>\end{align*}$$</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">sphere</span> : <span class="hljs-keyword">public</span> hittable &#123;<br>  ...<br>  <span class="hljs-keyword">private</span>:<br>    ...<br>    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">get_sphere_uv</span><span class="hljs-params">(<span class="hljs-type">const</span> point3&amp; p, <span class="hljs-type">double</span>&amp; u, <span class="hljs-type">double</span>&amp; v)</span> </span>&#123;<br>        <span class="hljs-comment">// p: a given point on the sphere of radius one, centered at the origin.</span><br>        <span class="hljs-comment">// u: returned value [0,1] of angle around the Y axis from X=-1.</span><br>        <span class="hljs-comment">// v: returned value [0,1] of angle from Y=-1 to Y=+1.</span><br>        <span class="hljs-comment">//     &lt;1 0 0&gt; yields &lt;0.50 0.50&gt;       &lt;-1  0  0&gt; yields &lt;0.00 0.50&gt;</span><br>        <span class="hljs-comment">//     &lt;0 1 0&gt; yields &lt;0.50 1.00&gt;       &lt; 0 -1  0&gt; yields &lt;0.50 0.00&gt;</span><br>        <span class="hljs-comment">//     &lt;0 0 1&gt; yields &lt;0.25 0.50&gt;       &lt; 0  0 -1&gt; yields &lt;0.75 0.50&gt;</span><br><br>        <span class="hljs-keyword">auto</span> theta = <span class="hljs-built_in">acos</span>(-p.<span class="hljs-built_in">y</span>());<br>        <span class="hljs-keyword">auto</span> phi = <span class="hljs-built_in">atan2</span>(-p.<span class="hljs-built_in">z</span>(), p.<span class="hljs-built_in">x</span>()) + pi;<br><br>        u = phi / (<span class="hljs-number">2</span>*pi);<br>        v = theta / pi;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>另一种计算方法为根据像素坐标(i, j):<br>$$\begin{align*}<br>    u &#x3D; \frac{i}{width - 1} \newline<br>    v &#x3D; \frac{j}{height - 1}<br>\end{align*}$$</p><h3 id="4-5-Accessing-Texture-Image-Data"><a href="#4-5-Accessing-Texture-Image-Data" class="headerlink" title="4.5 Accessing Texture Image Data"></a>4.5 Accessing Texture Image Data</h3><p>使用图像工具库stb_image.h</p><blockquote><p>It reads image data into a big array of unsigned chars. These are just packed RGBs with each component in the range [0,255] (black to full white)</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;rtweekend.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;rtw_stb_image.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;perlin.h&quot;</span></span><br><br>...<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">image_texture</span> : <span class="hljs-keyword">public</span> texture &#123;<br>  <span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">image_texture</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* filename) : <span class="hljs-built_in">image</span>(filename) &#123;&#125;<br><br>    <span class="hljs-function">color <span class="hljs-title">value</span><span class="hljs-params">(<span class="hljs-type">double</span> u, <span class="hljs-type">double</span> v, <span class="hljs-type">const</span> point3&amp; p)</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>&#123;<br>        <span class="hljs-comment">// If we have no texture data, then return solid cyan as a debugging aid.</span><br>        <span class="hljs-keyword">if</span> (image.<span class="hljs-built_in">height</span>() &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-built_in">color</span>(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>);<br><br>        <span class="hljs-comment">// Clamp input texture coordinates to [0,1] x [1,0]</span><br>        u = <span class="hljs-built_in">interval</span>(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>).<span class="hljs-built_in">clamp</span>(u);<br>        v = <span class="hljs-number">1.0</span> - <span class="hljs-built_in">interval</span>(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>).<span class="hljs-built_in">clamp</span>(v);  <span class="hljs-comment">// Flip V to image coordinates</span><br><br>        <span class="hljs-keyword">auto</span> i = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(u * image.<span class="hljs-built_in">width</span>());<br>        <span class="hljs-keyword">auto</span> j = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(v * image.<span class="hljs-built_in">height</span>());<br>        <span class="hljs-keyword">auto</span> pixel = image.<span class="hljs-built_in">pixel_data</span>(i,j);<br><br>        <span class="hljs-keyword">auto</span> color_scale = <span class="hljs-number">1.0</span> / <span class="hljs-number">255.0</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">color</span>(color_scale*pixel[<span class="hljs-number">0</span>], color_scale*pixel[<span class="hljs-number">1</span>], color_scale*pixel[<span class="hljs-number">2</span>]);<br>    &#125;<br><br>  <span class="hljs-keyword">private</span>:<br>    rtw_image image;<br>&#125;;<br></code></pre></td></tr></table></figure><p>原始(u,v)的坐标系x轴向右，y轴向上，而图像坐标系x轴向右，y轴向下，所以需要对v进行翻转。</p><h3 id="4-6-Rendering-The-Image-Texture"><a href="#4-6-Rendering-The-Image-Texture" class="headerlink" title="4.6 Rendering The Image Texture"></a>4.6 Rendering The Image Texture</h3><p><img src="/img/earth.png" alt="image"></p><h2 id="5-Perlin-Noise"><a href="#5-Perlin-Noise" class="headerlink" title="5. Perlin Noise"></a>5. Perlin Noise</h2><h3 id="Introduction-3"><a href="#Introduction-3" class="headerlink" title="Introduction"></a>Introduction</h3><p><img src="/img/perlin.jpg" alt="image"></p><blockquote><p>It takes a 3D point as input and always returns the same randomish number. Nearby points return similar numbers</p></blockquote><p>关于noise的详细介绍可以参考我的另一篇博客<a href="https://blog.csdn.net/qq_41971087/article/details/118811796">PBRT-Noise</a></p><h3 id="5-1-Using-Blocks-of-Random-Numbers"><a href="#5-1-Using-Blocks-of-Random-Numbers" class="headerlink" title="5.1 Using Blocks of Random Numbers"></a>5.1 Using Blocks of Random Numbers</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// ranfloat: a big array of random doubles</span><br><span class="hljs-comment">// perm_x, perm_y, perm_z: arrays of random integers</span><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">noise</span><span class="hljs-params">(<span class="hljs-type">const</span> point3&amp; p)</span> <span class="hljs-type">const</span> </span>&#123;<br>    <br>    <span class="hljs-keyword">auto</span> i = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">4</span>*p.<span class="hljs-built_in">x</span>()) &amp; <span class="hljs-number">255</span>;<br>    <span class="hljs-keyword">auto</span> j = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">4</span>*p.<span class="hljs-built_in">y</span>()) &amp; <span class="hljs-number">255</span>;<br>    <span class="hljs-keyword">auto</span> k = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">4</span>*p.<span class="hljs-built_in">z</span>()) &amp; <span class="hljs-number">255</span>;<br><br>    <span class="hljs-keyword">return</span> ranfloat[perm_x[i] ^ perm_y[j] ^ perm_z[k]];<br>&#125;<br></code></pre></td></tr></table></figure><p>这种组合查找方式可以产生连续和平滑的噪声效果。 </p><h3 id="5-2-Smoothing-out-the-Result"><a href="#5-2-Smoothing-out-the-Result" class="headerlink" title="5.2 Smoothing out the Result"></a>5.2 Smoothing out the Result</h3><p>要使结果平滑，可以采用线性插值的方式。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">perlin</span> &#123;<br>  <span class="hljs-keyword">public</span>:<br>    ...<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">noise</span><span class="hljs-params">(<span class="hljs-type">const</span> point3&amp; p)</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">auto</span> u = p.<span class="hljs-built_in">x</span>() - <span class="hljs-built_in">floor</span>(p.<span class="hljs-built_in">x</span>());<br>        <span class="hljs-keyword">auto</span> v = p.<span class="hljs-built_in">y</span>() - <span class="hljs-built_in">floor</span>(p.<span class="hljs-built_in">y</span>());<br>        <span class="hljs-keyword">auto</span> w = p.<span class="hljs-built_in">z</span>() - <span class="hljs-built_in">floor</span>(p.<span class="hljs-built_in">z</span>());<br><br>        <span class="hljs-keyword">auto</span> i = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-built_in">floor</span>(p.<span class="hljs-built_in">x</span>()));<br>        <span class="hljs-keyword">auto</span> j = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-built_in">floor</span>(p.<span class="hljs-built_in">y</span>()));<br>        <span class="hljs-keyword">auto</span> k = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-built_in">floor</span>(p.<span class="hljs-built_in">z</span>()));<br>        <span class="hljs-type">double</span> c[<span class="hljs-number">2</span>][<span class="hljs-number">2</span>][<span class="hljs-number">2</span>];<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> di=<span class="hljs-number">0</span>; di &lt; <span class="hljs-number">2</span>; di++)<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> dj=<span class="hljs-number">0</span>; dj &lt; <span class="hljs-number">2</span>; dj++)<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> dk=<span class="hljs-number">0</span>; dk &lt; <span class="hljs-number">2</span>; dk++)<br>                    c[di][dj][dk] = ranfloat[<br>                        perm_x[(i+di) &amp; <span class="hljs-number">255</span>] ^<br>                        perm_y[(j+dj) &amp; <span class="hljs-number">255</span>] ^<br>                        perm_z[(k+dk) &amp; <span class="hljs-number">255</span>]<br>                    ];<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">trilinear_interp</span>(c, u, v, w);<br>    &#125;<br>    ...<br><br>  <span class="hljs-keyword">private</span>:<br>    ...<br>    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">double</span> <span class="hljs-title">trilinear_interp</span><span class="hljs-params">(<span class="hljs-type">double</span> c[<span class="hljs-number">2</span>][<span class="hljs-number">2</span>][<span class="hljs-number">2</span>], <span class="hljs-type">double</span> u, <span class="hljs-type">double</span> v, <span class="hljs-type">double</span> w)</span> </span>&#123;<br>        <span class="hljs-keyword">auto</span> accum = <span class="hljs-number">0.0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i &lt; <span class="hljs-number">2</span>; i++)<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>; j &lt; <span class="hljs-number">2</span>; j++)<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k=<span class="hljs-number">0</span>; k &lt; <span class="hljs-number">2</span>; k++)<br>                    accum += (i*u + (<span class="hljs-number">1</span>-i)*(<span class="hljs-number">1</span>-u))*<br>                            (j*v + (<span class="hljs-number">1</span>-j)*(<span class="hljs-number">1</span>-v))*<br>                            (k*w + (<span class="hljs-number">1</span>-k)*(<span class="hljs-number">1</span>-w))*c[i][j][k];<br><br>        <span class="hljs-keyword">return</span> accum;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><img src="/img/smoothing.png" alt="smoothing"></p><h3 id="5-3-Improvement-with-Hermitian-Smoothing"><a href="#5-3-Improvement-with-Hermitian-Smoothing" class="headerlink" title="5.3 Improvement with Hermitian Smoothing"></a>5.3 Improvement with Hermitian Smoothing</h3><p>smoothing后的结果有明显的网格特征，有部分是Mach bands, a known perceptual artifact of linear interpolation of color.</p><blockquote><p>Mach bands is an optical illusion named after the physicist Ernst Mach. It exaggerates the contrast between edges of the slightly differing shades of gray, as soon as they contact one another, by triggering edge-detection in the human visual system.</p></blockquote><p><img src="/img/mach.gif" alt="mach bands"><br>一个标准的技巧是使用Hermite cubic使插值更平滑。</p><blockquote><p>Hermite cubic 是一种数学插值方法，通常用于在给定一些数据点的情况下生成一个平滑的曲线或曲面。这个方法使用 Hermite 插值多项式来逼近数据点之间的曲线，以便在这些点之间获得连续和平滑的函数或曲线。</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">class</span> <span class="hljs-title">perlin</span> <span class="hljs-params">(</span></span><br><span class="hljs-params"><span class="hljs-function">  <span class="hljs-keyword">public</span>:</span></span><br><span class="hljs-params"><span class="hljs-function">    ...</span></span><br><span class="hljs-params"><span class="hljs-function">    <span class="hljs-type">double</span> noise(<span class="hljs-type">const</span> point3&amp; p) <span class="hljs-type">const</span> &#123;</span></span><br><span class="hljs-params"><span class="hljs-function">        <span class="hljs-keyword">auto</span> u = p.x() - floor(p.x());</span></span><br><span class="hljs-params"><span class="hljs-function">        <span class="hljs-keyword">auto</span> v = p.y() - floor(p.y());</span></span><br><span class="hljs-params"><span class="hljs-function">        <span class="hljs-keyword">auto</span> w = p.z() - floor(p.z());</span></span><br><span class="hljs-params"><span class="hljs-function">        u = u*u*(<span class="hljs-number">3</span><span class="hljs-number">-2</span>*u);</span></span><br><span class="hljs-params"><span class="hljs-function">        v = v*v*(<span class="hljs-number">3</span><span class="hljs-number">-2</span>*v);</span></span><br><span class="hljs-params"><span class="hljs-function">        w = w*w*(<span class="hljs-number">3</span><span class="hljs-number">-2</span>*w);</span></span><br><span class="hljs-params"><span class="hljs-function"></span></span><br><span class="hljs-params"><span class="hljs-function">        <span class="hljs-keyword">auto</span> i = <span class="hljs-keyword">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(floor(p.x()));</span></span><br><span class="hljs-params"><span class="hljs-function">        <span class="hljs-keyword">auto</span> j = <span class="hljs-keyword">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(floor(p.y()));</span></span><br><span class="hljs-params"><span class="hljs-function">        <span class="hljs-keyword">auto</span> k = <span class="hljs-keyword">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(floor(p.z()));</span></span><br><span class="hljs-params"><span class="hljs-function">        ...</span></span><br><span class="hljs-params"><span class="hljs-function">    &#125;</span></span><br></code></pre></td></tr></table></figure><p><img src="/img/hermite.png" alt="hermite"></p><h3 id="5-4-Tweaking-The-Frequency"><a href="#5-4-Tweaking-The-Frequency" class="headerlink" title="5.4 Tweaking The Frequency"></a>5.4 Tweaking The Frequency</h3><p>目前的频率有点低，我们可以控制输入scale来调整频率。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">noise_texture</span> : <span class="hljs-keyword">public</span> texture &#123;<br>  <span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">noise_texture</span>() &#123;&#125;<br><br>    <span class="hljs-built_in">noise_texture</span>(<span class="hljs-type">double</span> sc) : <span class="hljs-built_in">scale</span>(sc) &#123;&#125;<br><br>    <span class="hljs-function">color <span class="hljs-title">value</span><span class="hljs-params">(<span class="hljs-type">double</span> u, <span class="hljs-type">double</span> v, <span class="hljs-type">const</span> point3&amp; p)</span> <span class="hljs-type">const</span> <span class="hljs-keyword">override</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">color</span>(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>) * noise.<span class="hljs-built_in">noise</span>(scale * p);<br>    &#125;<br><br>  <span class="hljs-keyword">private</span>:<br>    perlin noise;<br>    <span class="hljs-type">double</span> scale;<br>&#125;;<br></code></pre></td></tr></table></figure><p><img src="/img/scale.png" alt="frequency"></p><h3 id="5-5-Using-Random-Vectors-on-the-Lattice-Points"><a href="#5-5-Using-Random-Vectors-on-the-Lattice-Points" class="headerlink" title="5.5 Using Random Vectors on the Lattice Points"></a>5.5 Using Random Vectors on the Lattice Points</h3><p><img src="/img/random.png" alt="image"></p><h3 id="5-6-Introducing-Turbulence"><a href="#5-6-Introducing-Turbulence" class="headerlink" title="5.6 Introducing Turbulence"></a>5.6 Introducing Turbulence</h3><p><img src="/img/turb.png" alt="image"></p><h3 id="5-7-Adjusting-the-Phase"><a href="#5-7-Adjusting-the-Phase" class="headerlink" title="5.7 Adjusting the Phase"></a>5.7 Adjusting the Phase</h3><p><img src="/img/marbled.png" alt="image"></p><h2 id="6-Quadrilaterals"><a href="#6-Quadrilaterals" class="headerlink" title="6. Quadrilaterals"></a>6. Quadrilaterals</h2>]]></content>
    
    
    <categories>
      
      <category>note</category>
      
    </categories>
    
    
    <tags>
      
      <tag>图形学学习笔记</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>raytracing_in-one-week</title>
    <link href="/2023/08/30/raytracing-in-one-week/"/>
    <url>/2023/08/30/raytracing-in-one-week/</url>
    
    <content type="html"><![CDATA[<h1 id="raytracing-in-one-week"><a href="#raytracing-in-one-week" class="headerlink" title="raytracing in one week"></a>raytracing in one week</h1><span id="more"></span><h2 id="0-Introduction"><a href="#0-Introduction" class="headerlink" title="0. Introduction"></a>0. Introduction</h2><p>笔者在大二下学期上了《计算机图形学基础》这门课，由于时间匆忙+能力有限，在完成光线追踪渲染器时疏漏了很多细节。关于真实感渲染器的实现有很多不错的课程资料，比如Games101，smallpt，Ray Tracing in One Weekend等等，笔者计划在大三上学期开学前抽出一周时间，完成Ray Tracing in One Weekend的学习，以此来巩固自己的图形学基础知识，实现一个质量更高的光线追踪渲染器。</p><h2 id="1-Overview"><a href="#1-Overview" class="headerlink" title="1. Overview"></a>1. Overview</h2><ul><li>get cool images with no API</li><li>the architecture will be good for extending to a more full-featured ray tracer</li></ul><h2 id="2-Output-an-Image"><a href="#2-Output-an-Image" class="headerlink" title="2. Output an Image"></a>2. Output an Image</h2>]]></content>
    
    
    <categories>
      
      <category>note</category>
      
    </categories>
    
    
    <tags>
      
      <tag>图形学学习笔记</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
